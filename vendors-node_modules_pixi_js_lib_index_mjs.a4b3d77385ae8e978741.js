"use strict";(self.webpackChunkfederation_clients=self.webpackChunkfederation_clients||[]).push([["vendors-node_modules_pixi_js_lib_index_mjs"],{"./node_modules/@pixi/accessibility/lib/index.mjs":(t,e,i)=>{i.d(e,{k:()=>a,Q:()=>o});var s=i("./node_modules/@pixi/core/lib/index.mjs"),n=i("./node_modules/@pixi/display/lib/index.mjs"),r=i("./node_modules/@pixi/events/lib/index.mjs");const o={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};n.q9.mixin(o);class a{constructor(t){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(s.Wp.isMobile.tablet||s.Wp.isMobile.phone)&&this.createTouchHook();const e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.zIndex=2..toString(),this.div=e,this.renderer=t,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const t=document.createElement("button");t.style.width="1px",t.style.height="1px",t.style.position="absolute",t.style.top="-1000px",t.style.left="-1000px",t.style.zIndex=2..toString(),t.style.backgroundColor="#FF0000",t.title="select to enable accessibility for this content",t.addEventListener("focus",(()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()})),document.body.appendChild(t),this._hookDiv=t}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode?.appendChild(this.div))}deactivate(){!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode?.removeChild(this.div))}updateAccessibleObjects(t){if(!t.visible||!t.accessibleChildren)return;t.accessible&&t.isInteractive()&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);const e=t.children;if(e)for(let t=0;t<e.length;t++)this.updateAccessibleObjects(e[t])}update(){const t=performance.now();if(s.Wp.isMobile.android.device&&t<this.androidUpdateCount||(this.androidUpdateCount=t+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:e,y:i,width:n,height:r}=this.renderer.view.getBoundingClientRect(),{width:o,height:a,resolution:l}=this.renderer,h=n/o*l,d=r/a*l;let c=this.div;c.style.left=`${e}px`,c.style.top=`${i}px`,c.style.width=`${o}px`,c.style.height=`${a}px`;for(let t=0;t<this.children.length;t++){const e=this.children[t];if(e.renderId!==this.renderId)e._accessibleActive=!1,s.Wp.removeItems(this.children,t,1),this.div.removeChild(e._accessibleDiv),this.pool.push(e._accessibleDiv),e._accessibleDiv=null,t--;else{c=e._accessibleDiv;let t=e.hitArea;const i=e.worldTransform;e.hitArea?(c.style.left=(i.tx+t.x*i.a)*h+"px",c.style.top=(i.ty+t.y*i.d)*d+"px",c.style.width=t.width*i.a*h+"px",c.style.height=t.height*i.d*d+"px"):(t=e.getBounds(),this.capHitArea(t),c.style.left=t.x*h+"px",c.style.top=t.y*d+"px",c.style.width=t.width*h+"px",c.style.height=t.height*d+"px",c.title!==e.accessibleTitle&&null!==e.accessibleTitle&&(c.title=e.accessibleTitle),c.getAttribute("aria-label")!==e.accessibleHint&&null!==e.accessibleHint&&c.setAttribute("aria-label",e.accessibleHint)),(e.accessibleTitle!==c.title||e.tabIndex!==c.tabIndex)&&(c.title=e.accessibleTitle,c.tabIndex=e.tabIndex,this.debug&&this.updateDebugHTML(c))}}this.renderId++}updateDebugHTML(t){t.innerHTML=`type: ${t.type}</br> title : ${t.title}</br> tabIndex: ${t.tabIndex}`}capHitArea(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0);const{width:e,height:i}=this.renderer;t.x+t.width>e&&(t.width=e-t.x),t.y+t.height>i&&(t.height=i-t.y)}addChild(t){let e=this.pool.pop();e||(e=document.createElement("button"),e.style.width="100px",e.style.height="100px",e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=2..toString(),e.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.style.pointerEvents=t.accessiblePointerEvents,e.type=t.accessibleType,t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:(!t.accessibleHint||null===t.accessibleHint)&&(e.title=`displayObject ${t.tabIndex}`),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(e),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex}_dispatchEvent(t,e){const{displayObject:i}=t.target,s=this.renderer.events.rootBoundary,n=Object.assign(new r.Ns(s),{target:i});s.rootTarget=this.renderer.lastObjectRendered,e.forEach((t=>s.dispatchEvent(n,t)))}_onClick(t){this._dispatchEvent(t,["click","pointertap","tap"])}_onFocus(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive"),this._dispatchEvent(t,["mouseover"])}_onFocusOut(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite"),this._dispatchEvent(t,["mouseout"])}_onKeyDown(t){9===t.keyCode&&this.activate()}_onMouseMove(t){0===t.movementX&&0===t.movementY||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}a.extension={name:"accessibility",type:[s.Ag.RendererPlugin,s.Ag.CanvasRendererPlugin]},s.XO.add(a)},"./node_modules/@pixi/app/lib/index.mjs":(t,e,i)=>{i.d(e,{l:()=>o,U:()=>a});var s=i("./node_modules/@pixi/core/lib/index.mjs"),n=i("./node_modules/@pixi/display/lib/index.mjs");const r=class t{constructor(e){this.stage=new n.mc,e=Object.assign({forceCanvas:!1},e),this.renderer=(0,s.q5)(e),t._plugins.forEach((t=>{t.init.call(this,e)}))}render(){this.renderer.render(this.stage)}get view(){return this.renderer?.view}get screen(){return this.renderer?.screen}destroy(e,i){const s=t._plugins.slice(0);s.reverse(),s.forEach((t=>{t.destroy.call(this)})),this.stage.destroy(i),this.stage=null,this.renderer.destroy(e),this.renderer=null}};r._plugins=[];let o=r;s.XO.handleByList(s.Ag.Application,o._plugins);class a{static init(t){Object.defineProperty(this,"resizeTo",{set(t){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=t,t&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame((()=>this.resize())))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;let t,e;if(this.cancelResize(),this._resizeTo===globalThis.window)t=globalThis.innerWidth,e=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:s}=this._resizeTo;t=i,e=s}this.renderer.resize(t,e),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}a.extension=s.Ag.Application,s.XO.add(a)},"./node_modules/@pixi/compressed-textures/lib/index.mjs":(t,e,i)=>{i.d(e,{sw:()=>c,Jn:()=>u,i1:()=>U,Nx:()=>s,FU:()=>n,wM:()=>G,VM:()=>W,b0:()=>h,os:()=>X,EO:()=>z,XD:()=>O,V_:()=>H,CJ:()=>Y});var s=(t=>(t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35987]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t[t.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492]="COMPRESSED_RGBA_BPTC_UNORM_EXT",t[t.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493]="COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",t[t.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494]="COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",t[t.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495]="COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",t))(s||{});const n={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35987:1,34798:1,37808:1,36492:1,36493:1,36494:1,36495:1};var r=i("./node_modules/@pixi/core/lib/index.mjs");let o,a;function l(){a={bptc:o.getExtension("EXT_texture_compression_bptc"),astc:o.getExtension("WEBGL_compressed_texture_astc"),etc:o.getExtension("WEBGL_compressed_texture_etc"),s3tc:o.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:o.getExtension("WEBGL_compressed_texture_s3tc_srgb"),pvrtc:o.getExtension("WEBGL_compressed_texture_pvrtc")||o.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),etc1:o.getExtension("WEBGL_compressed_texture_etc1"),atc:o.getExtension("WEBGL_compressed_texture_atc")}}const h={extension:{type:r.Ag.DetectionParser,priority:2},test:async()=>{const t=r.W0.ADAPTER.createCanvas().getContext("webgl");return t?(o=t,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async t=>{a||l();const e=[];for(const t in a)a[t]&&e.push(t);return[...e,...t]},remove:async t=>(a||l(),t.filter((t=>!(t in a))))};r.XO.add(h);var d=i("./node_modules/@pixi/assets/lib/index.mjs");class c extends r.dZ{constructor(t,e={width:1,height:1,autoLoad:!0}){let i,s;"string"==typeof t?(i=t,s=new Uint8Array):(i=null,s=t),super(s,e),this.origin=i,this.buffer=s?new r.u3(s):null,this._load=null,this.loaded=!1,null!==this.origin&&!1!==e.autoLoad&&this.load(),null===this.origin&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(t){}load(){return this._load||(this._load=fetch(this.origin).then((t=>t.blob())).then((t=>t.arrayBuffer())).then((t=>(this.data=new Uint32Array(t),this.buffer=new r.u3(t),this.loaded=!0,this.onBlobLoaded(t),this.update(),this)))),this._load}}class u extends c{constructor(t,e){super(t,e),this.format=e.format,this.levels=e.levels||1,this._width=e.width,this._height=e.height,this._extension=u._formatToExtension(this.format),(e.levelBuffers||this.buffer)&&(this._levelBuffers=e.levelBuffers||u._createLevelBuffers(t instanceof Uint8Array?t:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(t,e,i){const s=t.gl;if(!t.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;s.pixelStorei(s.UNPACK_ALIGNMENT,4);for(let t=0,e=this.levels;t<e;t++){const{levelID:e,levelWidth:i,levelHeight:n,levelBuffer:r}=this._levelBuffers[t];s.compressedTexImage2D(s.TEXTURE_2D,e,this.format,i,n,0,r)}return!0}onBlobLoaded(){this._levelBuffers=u._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(t){if(t>=33776&&t<=33779)return"s3tc";if(t>=35916&&t<=35919)return"s3tc_sRGB";if(t>=37488&&t<=37497)return"etc";if(t>=35840&&t<=35843)return"pvrtc";if(36196===t)return"etc1";if(35986===t||35987===t||34798===t)return"atc";if(t>=36492&&t<=36495)return"bptc";if(37808===t)return"astc";throw new Error(`Invalid (compressed) texture format given: ${t}`)}static _createLevelBuffers(t,e,i,s,r,o,a){const l=new Array(i);let h=t.byteOffset,d=o,c=a,u=d+s-1&~(s-1),p=c+r-1&~(r-1),m=u*p*n[e];for(let o=0;o<i;o++)l[o]={levelID:o,levelWidth:i>1?d:u,levelHeight:i>1?c:p,levelBuffer:new Uint8Array(t.buffer,h,m)},h+=m,d=d>>1||1,c=c>>1||1,u=d+s-1&~(s-1),p=c+r-1&~(r-1),m=u*p*n[e];return l}}const p=4,m=124,f=32,_=20,g=542327876,v={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},x={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},y={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},T=1,E=2,S=4,b=64,A=512,P=131072,w=827611204,R=861165636,M=894720068,C=808540228,D=4,I={[w]:s.COMPRESSED_RGBA_S3TC_DXT1_EXT,[R]:s.COMPRESSED_RGBA_S3TC_DXT3_EXT,[M]:s.COMPRESSED_RGBA_S3TC_DXT5_EXT},B={70:s.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:s.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:s.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:s.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:s.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:s.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,96:s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT,95:s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT,98:s.COMPRESSED_RGBA_BPTC_UNORM_EXT,99:s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT};function O(t){const e=new Uint32Array(t);if(e[0]!==g)throw new Error("Invalid DDS file magic word");const i=new Uint32Array(t,0,m/Uint32Array.BYTES_PER_ELEMENT),s=i[v.HEIGHT],r=i[v.WIDTH],o=i[v.MIPMAP_COUNT],a=new Uint32Array(t,v.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,f/Uint32Array.BYTES_PER_ELEMENT),l=a[T];if(l&S){const i=a[x.FOURCC];if(i!==C){const e=I[i],n=new Uint8Array(t,p+m);return[new u(n,{format:e,width:r,height:s,levels:o})]}const l=p+m,h=new Uint32Array(e.buffer,l,_/Uint32Array.BYTES_PER_ELEMENT),d=h[y.DXGI_FORMAT],c=h[y.RESOURCE_DIMENSION],f=h[y.MISC_FLAG],g=h[y.ARRAY_SIZE],v=B[d];if(void 0===v)throw new Error(`DDSParser cannot parse texture data with DXGI format ${d}`);if(f===D)throw new Error("DDSParser does not support cubemap textures");if(6===c)throw new Error("DDSParser does not supported 3D texture data");const T=new Array,E=p+m+_;if(1===g)T.push(new Uint8Array(t,E));else{const e=n[v];let i=0,a=r,l=s;for(let t=0;t<o;t++)i+=Math.max(1,a+3&-4)*Math.max(1,l+3&-4)*e,a>>>=1,l>>>=1;let h=E;for(let e=0;e<g;e++)T.push(new Uint8Array(t,h,i)),h+=i}return T.map((t=>new u(t,{format:v,width:r,height:s,levels:o})))}throw l&b?new Error("DDSParser does not support uncompressed texture data."):l&A?new Error("DDSParser does not supported YUV uncompressed texture data."):l&P?new Error("DDSParser does not support single-channel (lumninance) texture data!"):l&E?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const L=[171,75,84,88,32,49,49,187,13,10,26,10],F=67305985,k={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},N=64,G={[r.QE.UNSIGNED_BYTE]:1,[r.QE.UNSIGNED_SHORT]:2,[r.QE.INT]:4,[r.QE.UNSIGNED_INT]:4,[r.QE.FLOAT]:4,[r.QE.HALF_FLOAT]:8},U={[r.hR.RGBA]:4,[r.hR.RGB]:3,[r.hR.RG]:2,[r.hR.RED]:1,[r.hR.LUMINANCE]:1,[r.hR.LUMINANCE_ALPHA]:2,[r.hR.ALPHA]:1},W={[r.QE.UNSIGNED_SHORT_4_4_4_4]:2,[r.QE.UNSIGNED_SHORT_5_5_5_1]:2,[r.QE.UNSIGNED_SHORT_5_6_5]:2};function H(t,e,i=!1){const s=new DataView(e);if(!function(t,e){for(let i=0;i<L.length;i++)if(e.getUint8(i)!==L[i])return console.error(`${t} is not a valid *.ktx file!`),!1;return!0}(t,s))return null;const o=s.getUint32(k.ENDIANNESS,!0)===F,a=s.getUint32(k.GL_TYPE,o),l=s.getUint32(k.GL_FORMAT,o),h=s.getUint32(k.GL_INTERNAL_FORMAT,o),d=s.getUint32(k.PIXEL_WIDTH,o),c=s.getUint32(k.PIXEL_HEIGHT,o)||1,p=s.getUint32(k.PIXEL_DEPTH,o)||1,m=s.getUint32(k.NUMBER_OF_ARRAY_ELEMENTS,o)||1,f=s.getUint32(k.NUMBER_OF_FACES,o),_=s.getUint32(k.NUMBER_OF_MIPMAP_LEVELS,o),g=s.getUint32(k.BYTES_OF_KEY_VALUE_DATA,o);if(0===c||1!==p)throw new Error("Only 2D textures are supported");if(1!==f)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(1!==m)throw new Error("WebGL does not support array textures");const v=d+3&-4,x=c+3&-4,y=new Array(m);let T,E=d*c;if(0===a&&(E=v*x),T=0!==a?G[a]?G[a]*U[l]:W[a]:n[h],void 0===T)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const S=i?function(t,e,i){const s=new Map;let n=0;for(;n<e;){const r=t.getUint32(N+n,i),o=N+n+4,a=3-(r+3)%4;if(0===r||r>e-n){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let l=0;for(;l<r&&0!==t.getUint8(o+l);l++);if(-1===l){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const h=(new TextDecoder).decode(new Uint8Array(t.buffer,o,l)),d=new DataView(t.buffer,o+l+1,r-l-1);s.set(h,d),n+=4+r+a}return s}(s,g,o):null;let b=E*T,A=d,P=c,w=v,R=x,M=N+g;for(let t=0;t<_;t++){const i=s.getUint32(M,o);let n=M+4;for(let i=0;i<m;i++){let s=y[i];s||(s=y[i]=new Array(_)),s[t]={levelID:t,levelWidth:_>1||0!==a?A:w,levelHeight:_>1||0!==a?P:R,levelBuffer:new Uint8Array(e,n,b)},n+=b}M+=i+4,M=M%4!=0?M+4-M%4:M,A=A>>1||1,P=P>>1||1,w=A+4-1&-4,R=P+4-1&-4,b=w*R*T}return 0!==a?{uncompressed:y.map((t=>{let e=t[0].levelBuffer,i=!1;return a===r.QE.FLOAT?e=new Float32Array(t[0].levelBuffer.buffer,t[0].levelBuffer.byteOffset,t[0].levelBuffer.byteLength/4):a===r.QE.UNSIGNED_INT?(i=!0,e=new Uint32Array(t[0].levelBuffer.buffer,t[0].levelBuffer.byteOffset,t[0].levelBuffer.byteLength/4)):a===r.QE.INT&&(i=!0,e=new Int32Array(t[0].levelBuffer.buffer,t[0].levelBuffer.byteOffset,t[0].levelBuffer.byteLength/4)),{resource:new r.dZ(e,{width:t[0].levelWidth,height:t[0].levelHeight}),type:a,format:i?j(l):l}})),kvData:S}:{compressed:y.map((t=>new u(null,{format:h,width:d,height:c,levels:_,levelBuffers:t}))),kvData:S}}function j(t){switch(t){case r.hR.RGBA:return r.hR.RGBA_INTEGER;case r.hR.RGB:return r.hR.RGB_INTEGER;case r.hR.RG:return r.hR.RG_INTEGER;case r.hR.RED:return r.hR.RED_INTEGER;default:return t}}const X={extension:{type:r.Ag.LoadParser,priority:d.T9.High},name:"loadDDS",test:t=>(0,d.WO)(t,".dds"),async load(t,e,i){const s=O(await(await r.W0.ADAPTER.fetch(t)).arrayBuffer()).map((s=>{const n=new r.t5(s,{mipmap:r.E8.OFF,alphaMode:r.Gk.NO_PREMULTIPLIED_ALPHA,resolution:r.Wp.getResolutionOfUrl(t),...e.data});return(0,d.sZ)(n,i,t)}));return 1===s.length?s[0]:s},unload(t){Array.isArray(t)?t.forEach((t=>t.destroy(!0))):t.destroy(!0)}};r.XO.add(X);const z={extension:{type:r.Ag.LoadParser,priority:d.T9.High},name:"loadKTX",test:t=>(0,d.WO)(t,".ktx"),async load(t,e,i){const s=await(await r.W0.ADAPTER.fetch(t)).arrayBuffer(),{compressed:n,uncompressed:o,kvData:a}=H(t,s),l=n??o,h={mipmap:r.E8.OFF,alphaMode:r.Gk.NO_PREMULTIPLIED_ALPHA,resolution:r.Wp.getResolutionOfUrl(t),...e.data},c=l.map((e=>{l===o&&Object.assign(h,{type:e.type,format:e.format});const s=e.resource??e,n=new r.t5(s,h);return n.ktxKeyValueData=a,(0,d.sZ)(n,i,t)}));return 1===c.length?c[0]:c},unload(t){Array.isArray(t)?t.forEach((t=>t.destroy(!0))):t.destroy(!0)}};r.XO.add(z);const V=["s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"],Y={extension:r.Ag.ResolveParser,test:t=>{const e=r.Wp.path.extname(t).slice(1);return["basis","ktx","dds"].includes(e)},parse:t=>{const e=t.split("."),i=e.pop();if(["ktx","dds"].includes(i)){const i=e.pop();if(V.includes(i))return{resolution:parseFloat(r.W0.RETINA_PREFIX.exec(t)?.[1]??"1"),format:i,src:t}}return{resolution:parseFloat(r.W0.RETINA_PREFIX.exec(t)?.[1]??"1"),format:i,src:t}}};r.XO.add(Y)},"./node_modules/@pixi/events/lib/index.mjs":(t,e,i)=>{i.d(e,{TH:()=>c,C1:()=>m,o3:()=>g,Ns:()=>r,_J:()=>o,Aj:()=>a,Ot:()=>l});var s=i("./node_modules/@pixi/core/lib/index.mjs");const n=new class{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(t){this.removeTickerListener(),this.events=t,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(t){this._pauseUpdate=t}addTickerListener(){this.tickerAdded||!this.domElement||(s.Rv.system.add(this.tickerUpdate,this,s.dQ.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(s.Rv.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove)return void(this._didMove=!1);const t=this.events.rootPointerEvent;this.events.supportsTouchEvents&&"touch"===t.pointerType||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:t.clientX,clientY:t.clientY}))}tickerUpdate(t){this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}};class r{constructor(t){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=r.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new s.bR,this.page=new s.bR,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=t}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(t,e,i){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(t,e,i,s,n){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class o extends r{constructor(){super(...arguments),this.client=new s.bR,this.movement=new s.bR,this.offset=new s.bR,this.global=new s.bR,this.screen=new s.bR}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(t,e,i){return t.worldTransform.applyInverse(i||this.global,e)}getModifierState(t){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(t)}initMouseEvent(t,e,i,s,n,r,o,a,l,h,d,c,u,p,m){throw new Error("Method not implemented.")}}class a extends o{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return"pointermove"===this.type||"mousemove"===this.type||"touchmove"===this.type?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class l extends o{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}l.DOM_DELTA_PIXEL=0,l.DOM_DELTA_LINE=1,l.DOM_DELTA_PAGE=2;const h=new s.bR,d=new s.bR;class c{constructor(t){this.dispatch=new s.Wp.EventEmitter,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=t,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(t,e){this.mappingTable[t]||(this.mappingTable[t]=[]),this.mappingTable[t].push({fn:e,priority:0}),this.mappingTable[t].sort(((t,e)=>t.priority-e.priority))}dispatchEvent(t,e){t.propagationStopped=!1,t.propagationImmediatelyStopped=!1,this.propagate(t,e),this.dispatch.emit(e||t.type,t)}mapEvent(t){if(!this.rootTarget)return;const e=this.mappingTable[t.type];if(e)for(let i=0,s=e.length;i<s;i++)e[i].fn(t);else console.warn(`[EventBoundary]: Event mapping not defined for ${t.type}`)}hitTest(t,e){n.pauseUpdate=!0;const i=this[this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive"](this.rootTarget,this.rootTarget.eventMode,h.set(t,e),this.hitTestFn,this.hitPruneFn);return i&&i[0]}propagate(t,e){if(!t.target)return;const i=t.composedPath();t.eventPhase=t.CAPTURING_PHASE;for(let s=0,n=i.length-1;s<n;s++)if(t.currentTarget=i[s],this.notifyTarget(t,e),t.propagationStopped||t.propagationImmediatelyStopped)return;if(t.eventPhase=t.AT_TARGET,t.currentTarget=t.target,this.notifyTarget(t,e),!t.propagationStopped&&!t.propagationImmediatelyStopped){t.eventPhase=t.BUBBLING_PHASE;for(let s=i.length-2;s>=0;s--)if(t.currentTarget=i[s],this.notifyTarget(t,e),t.propagationStopped||t.propagationImmediatelyStopped)return}}all(t,e,i=this._allInteractiveElements){if(0===i.length)return;t.eventPhase=t.BUBBLING_PHASE;const s=Array.isArray(e)?e:[e];for(let e=i.length-1;e>=0;e--)s.forEach((s=>{t.currentTarget=i[e],this.notifyTarget(t,s)}))}propagationPath(t){const e=[t];for(let i=0;i<2048&&t!==this.rootTarget;i++){if(!t.parent)throw new Error("Cannot find propagation path to disconnected target");e.push(t.parent),t=t.parent}return e.reverse(),e}hitTestMoveRecursive(t,e,i,s,r,o=!1){let a=!1;if(this._interactivePrune(t))return null;if(("dynamic"===t.eventMode||"dynamic"===e)&&(n.pauseUpdate=!1),t.interactiveChildren&&t.children){const n=t.children;for(let l=n.length-1;l>=0;l--){const h=n[l],d=this.hitTestMoveRecursive(h,this._isInteractive(e)?e:h.eventMode,i,s,r,o||r(t,i));if(d){if(d.length>0&&!d[d.length-1].parent)continue;const e=t.isInteractive();(d.length>0||e)&&(e&&this._allInteractiveElements.push(t),d.push(t)),0===this._hitElements.length&&(this._hitElements=d),a=!0}}}const l=this._isInteractive(e),h=t.isInteractive();return l&&h&&this._allInteractiveElements.push(t),o||this._hitElements.length>0?null:a?this._hitElements:l&&!r(t,i)&&s(t,i)?h?[t]:[]:null}hitTestRecursive(t,e,i,s,r){if(this._interactivePrune(t)||r(t,i))return null;if(("dynamic"===t.eventMode||"dynamic"===e)&&(n.pauseUpdate=!1),t.interactiveChildren&&t.children){const n=t.children;for(let o=n.length-1;o>=0;o--){const a=n[o],l=this.hitTestRecursive(a,this._isInteractive(e)?e:a.eventMode,i,s,r);if(l){if(l.length>0&&!l[l.length-1].parent)continue;const e=t.isInteractive();return(l.length>0||e)&&l.push(t),l}}}const o=this._isInteractive(e),a=t.isInteractive();return o&&s(t,i)?a?[t]:[]:null}_isInteractive(t){return"static"===t||"dynamic"===t}_interactivePrune(t){return!(t&&!t.isMask&&t.visible&&t.renderable&&"none"!==t.eventMode&&("passive"!==t.eventMode||t.interactiveChildren)&&!t.isMask)}hitPruneFn(t,e){if(t.hitArea&&(t.worldTransform.applyInverse(e,d),!t.hitArea.contains(d.x,d.y)))return!0;if(t._mask){const i=t._mask.isMaskData?t._mask.maskObject:t._mask;if(i&&!i.containsPoint?.(e))return!0}return!1}hitTestFn(t,e){return"passive"!==t.eventMode&&(!!t.hitArea||!!t.containsPoint&&t.containsPoint(e))}notifyTarget(t,e){const i=`on${e=e??t.type}`;t.currentTarget[i]?.(t);const s=t.eventPhase===t.CAPTURING_PHASE||t.eventPhase===t.AT_TARGET?`${e}capture`:e;this.notifyListeners(t,s),t.eventPhase===t.AT_TARGET&&this.notifyListeners(t,e)}mapPointerDown(t){if(!(t instanceof a))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");const e=this.createPointerEvent(t);if(this.dispatchEvent(e,"pointerdown"),"touch"===e.pointerType)this.dispatchEvent(e,"touchstart");else if("mouse"===e.pointerType||"pen"===e.pointerType){const t=2===e.button;this.dispatchEvent(e,t?"rightdown":"mousedown")}this.trackingData(t.pointerId).pressTargetsByButton[t.button]=e.composedPath(),this.freeEvent(e)}mapPointerMove(t){if(!(t instanceof a))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const e=this.createPointerEvent(t);this._isPointerMoveEvent=!1;const i="mouse"===e.pointerType||"pen"===e.pointerType,s=this.trackingData(t.pointerId),n=this.findMountedTarget(s.overTargets);if(s.overTargets?.length>0&&n!==e.target){const s="mousemove"===t.type?"mouseout":"pointerout",r=this.createPointerEvent(t,s,n);if(this.dispatchEvent(r,"pointerout"),i&&this.dispatchEvent(r,"mouseout"),!e.composedPath().includes(n)){const s=this.createPointerEvent(t,"pointerleave",n);for(s.eventPhase=s.AT_TARGET;s.target&&!e.composedPath().includes(s.target);)s.currentTarget=s.target,this.notifyTarget(s),i&&this.notifyTarget(s,"mouseleave"),s.target=s.target.parent;this.freeEvent(s)}this.freeEvent(r)}if(n!==e.target){const s="mousemove"===t.type?"mouseover":"pointerover",r=this.clonePointerEvent(e,s);this.dispatchEvent(r,"pointerover"),i&&this.dispatchEvent(r,"mouseover");let o=n?.parent;for(;o&&o!==this.rootTarget.parent&&o!==e.target;)o=o.parent;if(!o||o===this.rootTarget.parent){const t=this.clonePointerEvent(e,"pointerenter");for(t.eventPhase=t.AT_TARGET;t.target&&t.target!==n&&t.target!==this.rootTarget.parent;)t.currentTarget=t.target,this.notifyTarget(t),i&&this.notifyTarget(t,"mouseenter"),t.target=t.target.parent;this.freeEvent(t)}this.freeEvent(r)}const r=[],o=this.enableGlobalMoveEvents??!0;this.moveOnAll?r.push("pointermove"):this.dispatchEvent(e,"pointermove"),o&&r.push("globalpointermove"),"touch"===e.pointerType&&(this.moveOnAll?r.splice(1,0,"touchmove"):this.dispatchEvent(e,"touchmove"),o&&r.push("globaltouchmove")),i&&(this.moveOnAll?r.splice(1,0,"mousemove"):this.dispatchEvent(e,"mousemove"),o&&r.push("globalmousemove"),this.cursor=e.target?.cursor),r.length>0&&this.all(e,r),this._allInteractiveElements.length=0,this._hitElements.length=0,s.overTargets=e.composedPath(),this.freeEvent(e)}mapPointerOver(t){if(!(t instanceof a))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");const e=this.trackingData(t.pointerId),i=this.createPointerEvent(t),s="mouse"===i.pointerType||"pen"===i.pointerType;this.dispatchEvent(i,"pointerover"),s&&this.dispatchEvent(i,"mouseover"),"mouse"===i.pointerType&&(this.cursor=i.target?.cursor);const n=this.clonePointerEvent(i,"pointerenter");for(n.eventPhase=n.AT_TARGET;n.target&&n.target!==this.rootTarget.parent;)n.currentTarget=n.target,this.notifyTarget(n),s&&this.notifyTarget(n,"mouseenter"),n.target=n.target.parent;e.overTargets=i.composedPath(),this.freeEvent(i),this.freeEvent(n)}mapPointerOut(t){if(!(t instanceof a))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");const e=this.trackingData(t.pointerId);if(e.overTargets){const i="mouse"===t.pointerType||"pen"===t.pointerType,s=this.findMountedTarget(e.overTargets),n=this.createPointerEvent(t,"pointerout",s);this.dispatchEvent(n),i&&this.dispatchEvent(n,"mouseout");const r=this.createPointerEvent(t,"pointerleave",s);for(r.eventPhase=r.AT_TARGET;r.target&&r.target!==this.rootTarget.parent;)r.currentTarget=r.target,this.notifyTarget(r),i&&this.notifyTarget(r,"mouseleave"),r.target=r.target.parent;e.overTargets=null,this.freeEvent(n),this.freeEvent(r)}this.cursor=null}mapPointerUp(t){if(!(t instanceof a))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");const e=performance.now(),i=this.createPointerEvent(t);if(this.dispatchEvent(i,"pointerup"),"touch"===i.pointerType)this.dispatchEvent(i,"touchend");else if("mouse"===i.pointerType||"pen"===i.pointerType){const t=2===i.button;this.dispatchEvent(i,t?"rightup":"mouseup")}const s=this.trackingData(t.pointerId),n=this.findMountedTarget(s.pressTargetsByButton[t.button]);let r=n;if(n&&!i.composedPath().includes(n)){let e=n;for(;e&&!i.composedPath().includes(e);){if(i.currentTarget=e,this.notifyTarget(i,"pointerupoutside"),"touch"===i.pointerType)this.notifyTarget(i,"touchendoutside");else if("mouse"===i.pointerType||"pen"===i.pointerType){const t=2===i.button;this.notifyTarget(i,t?"rightupoutside":"mouseupoutside")}e=e.parent}delete s.pressTargetsByButton[t.button],r=e}if(r){const n=this.clonePointerEvent(i,"click");n.target=r,n.path=null,s.clicksByButton[t.button]||(s.clicksByButton[t.button]={clickCount:0,target:n.target,timeStamp:e});const o=s.clicksByButton[t.button];if(o.target===n.target&&e-o.timeStamp<200?++o.clickCount:o.clickCount=1,o.target=n.target,o.timeStamp=e,n.detail=o.clickCount,"mouse"===n.pointerType){const t=2===n.button;this.dispatchEvent(n,t?"rightclick":"click")}else"touch"===n.pointerType&&this.dispatchEvent(n,"tap");this.dispatchEvent(n,"pointertap"),this.freeEvent(n)}this.freeEvent(i)}mapPointerUpOutside(t){if(!(t instanceof a))return void console.warn("EventBoundary cannot map a non-pointer event as a pointer event");const e=this.trackingData(t.pointerId),i=this.findMountedTarget(e.pressTargetsByButton[t.button]),s=this.createPointerEvent(t);if(i){let n=i;for(;n;)s.currentTarget=n,this.notifyTarget(s,"pointerupoutside"),"touch"===s.pointerType?this.notifyTarget(s,"touchendoutside"):("mouse"===s.pointerType||"pen"===s.pointerType)&&this.notifyTarget(s,2===s.button?"rightupoutside":"mouseupoutside"),n=n.parent;delete e.pressTargetsByButton[t.button]}this.freeEvent(s)}mapWheel(t){if(!(t instanceof l))return void console.warn("EventBoundary cannot map a non-wheel event as a wheel event");const e=this.createWheelEvent(t);this.dispatchEvent(e),this.freeEvent(e)}findMountedTarget(t){if(!t)return null;let e=t[0];for(let i=1;i<t.length&&t[i].parent===e;i++)e=t[i];return e}createPointerEvent(t,e,i){const s=this.allocateEvent(a);return this.copyPointerData(t,s),this.copyMouseData(t,s),this.copyData(t,s),s.nativeEvent=t.nativeEvent,s.originalEvent=t,s.target=i??this.hitTest(s.global.x,s.global.y)??this._hitElements[0],"string"==typeof e&&(s.type=e),s}createWheelEvent(t){const e=this.allocateEvent(l);return this.copyWheelData(t,e),this.copyMouseData(t,e),this.copyData(t,e),e.nativeEvent=t.nativeEvent,e.originalEvent=t,e.target=this.hitTest(e.global.x,e.global.y),e}clonePointerEvent(t,e){const i=this.allocateEvent(a);return i.nativeEvent=t.nativeEvent,i.originalEvent=t.originalEvent,this.copyPointerData(t,i),this.copyMouseData(t,i),this.copyData(t,i),i.target=t.target,i.path=t.composedPath().slice(),i.type=e??i.type,i}copyWheelData(t,e){e.deltaMode=t.deltaMode,e.deltaX=t.deltaX,e.deltaY=t.deltaY,e.deltaZ=t.deltaZ}copyPointerData(t,e){t instanceof a&&e instanceof a&&(e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist)}copyMouseData(t,e){t instanceof o&&e instanceof o&&(e.altKey=t.altKey,e.button=t.button,e.buttons=t.buttons,e.client.copyFrom(t.client),e.ctrlKey=t.ctrlKey,e.metaKey=t.metaKey,e.movement.copyFrom(t.movement),e.screen.copyFrom(t.screen),e.shiftKey=t.shiftKey,e.global.copyFrom(t.global))}copyData(t,e){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=performance.now(),e.type=t.type,e.detail=t.detail,e.view=t.view,e.which=t.which,e.layer.copyFrom(t.layer),e.page.copyFrom(t.page)}trackingData(t){return this.mappingState.trackingData[t]||(this.mappingState.trackingData[t]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[t]}allocateEvent(t){this.eventPool.has(t)||this.eventPool.set(t,[]);const e=this.eventPool.get(t).pop()||new t(this);return e.eventPhase=e.NONE,e.currentTarget=null,e.path=null,e.target=null,e}freeEvent(t){if(t.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const e=t.constructor;this.eventPool.has(e)||this.eventPool.set(e,[]),this.eventPool.get(e).push(t)}notifyListeners(t,e){const i=t.currentTarget._events[e];if(i&&t.currentTarget.isInteractive())if("fn"in i)i.once&&t.currentTarget.removeListener(e,i.fn,void 0,!0),i.fn.call(i.context,t);else for(let s=0,n=i.length;s<n&&!t.propagationImmediatelyStopped;s++)i[s].once&&t.currentTarget.removeListener(e,i[s].fn,void 0,!0),i[s].fn.call(i[s].context,t)}}const u={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},p=class t{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new c(null),n.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new a(null),this.rootWheelEvent=new l(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...t.defaultEventFeatures},{set:(t,e,i)=>("globalMove"===e&&(this.rootBoundary.enableGlobalMoveEvents=i),t[e]=i,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(e){const{view:i,resolution:s}=this.renderer;this.setTargetElement(i),this.resolution=s,t._defaultEventMode=e.eventMode??"auto",Object.assign(this.features,e.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(t){this.resolution=t}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(t){t=t||"default";let e=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(e=!1),this.currentCursor===t)return;this.currentCursor=t;const i=this.cursorStyles[t];if(i)switch(typeof i){case"string":e&&(this.domElement.style.cursor=i);break;case"function":i(t);break;case"object":e&&Object.assign(this.domElement.style,i)}else e&&"string"==typeof t&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,t)&&(this.domElement.style.cursor=t)}get pointer(){return this.rootPointerEvent}onPointerDown(t){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const e=this.normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&(t.cancelable||!("cancelable"in t))&&t.preventDefault();for(let t=0,i=e.length;t<i;t++){const i=e[t],s=this.bootstrapEvent(this.rootPointerEvent,i);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(t){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,n.pointerMoved();const e=this.normalizeToPointerData(t);for(let t=0,i=e.length;t<i;t++){const i=this.bootstrapEvent(this.rootPointerEvent,e[t]);this.rootBoundary.mapEvent(i)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(t){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let e=t.target;t.composedPath&&t.composedPath().length>0&&(e=t.composedPath()[0]);const i=e!==this.domElement?"outside":"",s=this.normalizeToPointerData(t);for(let t=0,e=s.length;t<e;t++){const e=this.bootstrapEvent(this.rootPointerEvent,s[t]);e.type+=i,this.rootBoundary.mapEvent(e)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(t){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const e=this.normalizeToPointerData(t);for(let t=0,i=e.length;t<i;t++){const i=this.bootstrapEvent(this.rootPointerEvent,e[t]);this.rootBoundary.mapEvent(i)}this.setCursor(this.rootBoundary.cursor)}onWheel(t){if(!this.features.wheel)return;const e=this.normalizeWheelEvent(t);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(e)}setTargetElement(t){this.removeEvents(),this.domElement=t,n.domElement=t,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;n.addTickerListener();const t=this.domElement.style;t&&(globalThis.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;n.removeTickerListener();const t=this.domElement.style;globalThis.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(t,e,i){const s=this.domElement.isConnected?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0},n=1/this.resolution;t.x=(e-s.left)*(this.domElement.width/s.width)*n,t.y=(i-s.top)*(this.domElement.height/s.height)*n}normalizeToPointerData(t){const e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(let i=0,s=t.changedTouches.length;i<s;i++){const s=t.changedTouches[i];typeof s.button>"u"&&(s.button=0),typeof s.buttons>"u"&&(s.buttons=1),typeof s.isPrimary>"u"&&(s.isPrimary=1===t.touches.length&&"touchstart"===t.type),typeof s.width>"u"&&(s.width=s.radiusX||1),typeof s.height>"u"&&(s.height=s.radiusY||1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="touch"),typeof s.pointerId>"u"&&(s.pointerId=s.identifier||0),typeof s.pressure>"u"&&(s.pressure=s.force||.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),typeof s.layerX>"u"&&(s.layerX=s.offsetX=s.clientX),typeof s.layerY>"u"&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,s.type=t.type,e.push(s)}else if(!globalThis.MouseEvent||t instanceof MouseEvent&&!(this.supportsPointerEvents&&t instanceof globalThis.PointerEvent)){const i=t;typeof i.isPrimary>"u"&&(i.isPrimary=!0),typeof i.width>"u"&&(i.width=1),typeof i.height>"u"&&(i.height=1),typeof i.tiltX>"u"&&(i.tiltX=0),typeof i.tiltY>"u"&&(i.tiltY=0),typeof i.pointerType>"u"&&(i.pointerType="mouse"),typeof i.pointerId>"u"&&(i.pointerId=1),typeof i.pressure>"u"&&(i.pressure=.5),typeof i.twist>"u"&&(i.twist=0),typeof i.tangentialPressure>"u"&&(i.tangentialPressure=0),i.isNormalized=!0,e.push(i)}else e.push(t);return e}normalizeWheelEvent(t){const e=this.rootWheelEvent;return this.transferMouseData(e,t),e.deltaX=t.deltaX,e.deltaY=t.deltaY,e.deltaZ=t.deltaZ,e.deltaMode=t.deltaMode,this.mapPositionToPoint(e.screen,t.clientX,t.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.nativeEvent=t,e.type=t.type,e}bootstrapEvent(t,e){return t.originalEvent=null,t.nativeEvent=e,t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist,this.transferMouseData(t,e),this.mapPositionToPoint(t.screen,e.clientX,e.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.isTrusted=e.isTrusted,"pointerleave"===t.type&&(t.type="pointerout"),t.type.startsWith("mouse")&&(t.type=t.type.replace("mouse","pointer")),t.type.startsWith("touch")&&(t.type=u[t.type]||t.type),t}transferMouseData(t,e){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.x=e.clientX,t.client.y=e.clientY,t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.movement.x=e.movementX,t.movement.y=e.movementY,t.page.x=e.pageX,t.page.y=e.pageY,t.relatedTarget=null,t.shiftKey=e.shiftKey}};p.extension={name:"events",type:[s.Ag.RendererSystem,s.Ag.CanvasRendererSystem]},p.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let m=p;s.XO.add(m);var f=i("./node_modules/@pixi/display/lib/index.mjs");function _(t){return"dynamic"===t||"static"===t}const g={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??_(m.defaultEventMode)},set interactive(t){s.Wp.deprecation("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=t,this.eventMode=t?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??m.defaultEventMode},set eventMode(t){this._internalInteractive=_(t),this._internalEventMode=t},isInteractive(){return"static"===this.eventMode||"dynamic"===this.eventMode},interactiveChildren:!0,hitArea:null,addEventListener(t,e,i){const s="boolean"==typeof i&&i||"object"==typeof i&&i.capture,n="object"==typeof i?i.signal:void 0,r="object"==typeof i&&!0===i.once,o="function"==typeof e?void 0:e;t=s?`${t}capture`:t;const a="function"==typeof e?e:e.handleEvent,l=this;n&&n.addEventListener("abort",(()=>{l.off(t,a,o)})),r?l.once(t,a,o):l.on(t,a,o)},removeEventListener(t,e,i){const s="function"==typeof e?void 0:e;t="boolean"==typeof i&&i||"object"==typeof i&&i.capture?`${t}capture`:t,e="function"==typeof e?e:e.handleEvent,this.off(t,e,s)},dispatchEvent(t){if(!(t instanceof r))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};f.q9.mixin(g)},"./node_modules/@pixi/extract/lib/index.mjs":(t,e,i)=>{i.d(e,{M:()=>o});var s=i("./node_modules/@pixi/core/lib/index.mjs");const n=new s.M_,r=class t{constructor(t){this.renderer=t,this._rendererPremultipliedAlpha=!1}contextChange(){const t=this.renderer?.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(t&&t.alpha&&t.premultipliedAlpha)}async image(t,e,i,s){const n=new Image;return n.src=await this.base64(t,e,i,s),n}async base64(t,e,i,s){const n=this.canvas(t,s);if(void 0!==n.toBlob)return new Promise(((t,s)=>{n.toBlob((e=>{if(!e)return void s(new Error("ICanvas.toBlob failed!"));const i=new FileReader;i.onload=()=>t(i.result),i.onerror=s,i.readAsDataURL(e)}),e,i)}));if(void 0!==n.toDataURL)return n.toDataURL(e,i);if(void 0!==n.convertToBlob){const t=await n.convertToBlob({type:e,quality:i});return new Promise(((e,i)=>{const s=new FileReader;s.onload=()=>e(s.result),s.onerror=i,s.readAsDataURL(t)}))}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(e,i){const{pixels:n,width:r,height:o,flipY:a,premultipliedAlpha:l}=this._rawPixels(e,i);a&&t._flipY(n,r,o),l&&t._unpremultiplyAlpha(n);const h=new s.Wp.CanvasRenderTarget(r,o,1),d=new ImageData(new Uint8ClampedArray(n.buffer),r,o);return h.context.putImageData(d,0,0),h.canvas}pixels(e,i){const{pixels:s,width:n,height:r,flipY:o,premultipliedAlpha:a}=this._rawPixels(e,i);return o&&t._flipY(s,n,r),a&&t._unpremultiplyAlpha(s),s}_rawPixels(t,e){const i=this.renderer;if(!i)throw new Error("The Extract has already been destroyed");let r,o,a=!1,l=!1,h=!1;t&&(t instanceof s.Y7?o=t:(o=i.generateTexture(t,{region:e,resolution:i.resolution,multisample:i.multisample}),h=!0,e&&(n.width=e.width,n.height=e.height,e=n)));const d=i.gl;if(o){if(r=o.baseTexture.resolution,e=e??o.frame,a=!1,l=o.baseTexture.alphaMode>0&&o.baseTexture.format===s.hR.RGBA,!h){i.renderTexture.bind(o);const t=o.framebuffer.glFramebuffers[i.CONTEXT_UID];t.blitFramebuffer&&i.framebuffer.bind(t.blitFramebuffer)}}else r=i.resolution,e||((e=n).width=i.width/r,e.height=i.height/r),a=!0,l=this._rendererPremultipliedAlpha,i.renderTexture.bind();const c=Math.max(Math.round(e.width*r),1),u=Math.max(Math.round(e.height*r),1),p=new Uint8Array(4*c*u);return d.readPixels(Math.round(e.x*r),Math.round(e.y*r),c,u,d.RGBA,d.UNSIGNED_BYTE,p),h&&o?.destroy(!0),{pixels:p,width:c,height:u,flipY:a,premultipliedAlpha:l}}destroy(){this.renderer=null}static _flipY(t,e,i){const s=e<<2,n=i>>1,r=new Uint8Array(s);for(let e=0;e<n;e++){const n=e*s,o=(i-e-1)*s;r.set(t.subarray(n,n+s)),t.copyWithin(n,o,o+s),t.set(r,o)}}static _unpremultiplyAlpha(t){t instanceof Uint8ClampedArray&&(t=new Uint8Array(t.buffer));const e=t.length;for(let i=0;i<e;i+=4){const e=t[i+3];if(0!==e){const s=255.001/e;t[i]=t[i]*s+.5,t[i+1]=t[i+1]*s+.5,t[i+2]=t[i+2]*s+.5}}}};r.extension={name:"extract",type:s.Ag.RendererSystem};let o=r;s.XO.add(o)},"./node_modules/@pixi/filter-alpha/lib/index.mjs":(t,e,i)=>{i.d(e,{Z:()=>n});var s=i("./node_modules/@pixi/core/lib/index.mjs");class n extends s.dJ{constructor(t=1){super(s.MT,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",{uAlpha:1}),this.alpha=t}get alpha(){return this.uniforms.uAlpha}set alpha(t){this.uniforms.uAlpha=t}}},"./node_modules/@pixi/filter-color-matrix/lib/index.mjs":(t,e,i)=>{i.d(e,{N:()=>n});var s=i("./node_modules/@pixi/core/lib/index.mjs");class n extends s.dJ{constructor(){const t={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(s.Eo,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",t),this.alpha=1}_loadMatrix(t,e=!1){let i=t;e&&(this._multiply(i,this.uniforms.m,t),i=this._colorMatrix(i)),this.uniforms.m=i}_multiply(t,e,i){return t[0]=e[0]*i[0]+e[1]*i[5]+e[2]*i[10]+e[3]*i[15],t[1]=e[0]*i[1]+e[1]*i[6]+e[2]*i[11]+e[3]*i[16],t[2]=e[0]*i[2]+e[1]*i[7]+e[2]*i[12]+e[3]*i[17],t[3]=e[0]*i[3]+e[1]*i[8]+e[2]*i[13]+e[3]*i[18],t[4]=e[0]*i[4]+e[1]*i[9]+e[2]*i[14]+e[3]*i[19]+e[4],t[5]=e[5]*i[0]+e[6]*i[5]+e[7]*i[10]+e[8]*i[15],t[6]=e[5]*i[1]+e[6]*i[6]+e[7]*i[11]+e[8]*i[16],t[7]=e[5]*i[2]+e[6]*i[7]+e[7]*i[12]+e[8]*i[17],t[8]=e[5]*i[3]+e[6]*i[8]+e[7]*i[13]+e[8]*i[18],t[9]=e[5]*i[4]+e[6]*i[9]+e[7]*i[14]+e[8]*i[19]+e[9],t[10]=e[10]*i[0]+e[11]*i[5]+e[12]*i[10]+e[13]*i[15],t[11]=e[10]*i[1]+e[11]*i[6]+e[12]*i[11]+e[13]*i[16],t[12]=e[10]*i[2]+e[11]*i[7]+e[12]*i[12]+e[13]*i[17],t[13]=e[10]*i[3]+e[11]*i[8]+e[12]*i[13]+e[13]*i[18],t[14]=e[10]*i[4]+e[11]*i[9]+e[12]*i[14]+e[13]*i[19]+e[14],t[15]=e[15]*i[0]+e[16]*i[5]+e[17]*i[10]+e[18]*i[15],t[16]=e[15]*i[1]+e[16]*i[6]+e[17]*i[11]+e[18]*i[16],t[17]=e[15]*i[2]+e[16]*i[7]+e[17]*i[12]+e[18]*i[17],t[18]=e[15]*i[3]+e[16]*i[8]+e[17]*i[13]+e[18]*i[18],t[19]=e[15]*i[4]+e[16]*i[9]+e[17]*i[14]+e[18]*i[19]+e[19],t}_colorMatrix(t){const e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e}brightness(t,e){const i=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(i,e)}tint(t,e){const[i,n,r]=s.Q1.shared.setValue(t).toArray(),o=[i,0,0,0,0,0,n,0,0,0,0,0,r,0,0,0,0,0,1,0];this._loadMatrix(o,e)}greyscale(t,e){const i=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(i,e)}blackAndWhite(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)}hue(t,e){t=(t||0)/180*Math.PI;const i=Math.cos(t),s=Math.sin(t),n=1/3,r=(0,Math.sqrt)(n),o=[i+(1-i)*n,n*(1-i)-r*s,n*(1-i)+r*s,0,0,n*(1-i)+r*s,i+n*(1-i),n*(1-i)-r*s,0,0,n*(1-i)-r*s,n*(1-i)+r*s,i+n*(1-i),0,0,0,0,0,1,0];this._loadMatrix(o,e)}contrast(t,e){const i=(t||0)+1,s=-.5*(i-1),n=[i,0,0,0,s,0,i,0,0,s,0,0,i,0,s,0,0,0,1,0];this._loadMatrix(n,e)}saturate(t=0,e){const i=2*t/3+1,s=-.5*(i-1),n=[i,s,s,0,0,s,i,s,0,0,s,s,i,0,0,0,0,0,1,0];this._loadMatrix(n,e)}desaturate(){this.saturate(-1)}negative(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)}sepia(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)}technicolor(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)}polaroid(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)}toBGR(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)}kodachrome(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)}browni(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)}vintage(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)}colorTone(t,e,i,n,r){t=t||.2,e=e||.15,i=i||16770432,n=n||3375104;const o=s.Q1.shared,[a,l,h]=o.setValue(i).toArray(),[d,c,u]=o.setValue(n).toArray(),p=[.3,.59,.11,0,0,a,l,h,t,0,d,c,u,e,0,a-d,l-c,h-u,0,0];this._loadMatrix(p,r)}night(t,e){const i=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(i,e)}predator(t,e){const i=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(i,e)}lsd(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)}reset(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)}get matrix(){return this.uniforms.m}set matrix(t){this.uniforms.m=t}get alpha(){return this.uniforms.uAlpha}set alpha(t){this.uniforms.uAlpha=t}}n.prototype.grayscale=n.prototype.greyscale},"./node_modules/@pixi/filter-displacement/lib/index.mjs":(t,e,i)=>{i.d(e,{U:()=>n});var s=i("./node_modules/@pixi/core/lib/index.mjs");class n extends s.dJ{constructor(t,e){const i=new s.uq;t.renderable=!1,super("attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",{mapSampler:t._texture,filterMatrix:i,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=t,this.maskMatrix=i,null==e&&(e=20),this.scale=new s.bR(e,e)}apply(t,e,i,s){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const n=this.maskSprite.worldTransform,r=Math.sqrt(n.a*n.a+n.b*n.b),o=Math.sqrt(n.c*n.c+n.d*n.d);0!==r&&0!==o&&(this.uniforms.rotation[0]=n.a/r,this.uniforms.rotation[1]=n.b/r,this.uniforms.rotation[2]=n.c/o,this.uniforms.rotation[3]=n.d/o),t.applyFilter(this,e,i,s)}get map(){return this.uniforms.mapSampler}set map(t){this.uniforms.mapSampler=t}}},"./node_modules/@pixi/filter-fxaa/lib/index.mjs":(t,e,i)=>{i.d(e,{R:()=>n});var s=i("./node_modules/@pixi/core/lib/index.mjs");class n extends s.dJ{constructor(){super("\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputSize;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n')}}},"./node_modules/@pixi/filter-noise/lib/index.mjs":(t,e,i)=>{i.d(e,{p:()=>n});var s=i("./node_modules/@pixi/core/lib/index.mjs");class n extends s.dJ{constructor(t=.5,e=Math.random()){super(s.Eo,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",{uNoise:0,uSeed:0}),this.noise=t,this.seed=e}get noise(){return this.uniforms.uNoise}set noise(t){this.uniforms.uNoise=t}get seed(){return this.uniforms.uSeed}set seed(t){this.uniforms.uSeed=t}}},"./node_modules/@pixi/mixin-cache-as-bitmap/lib/index.mjs":(t,e,i)=>{var s=i("./node_modules/@pixi/core/lib/index.mjs"),n=i("./node_modules/@pixi/display/lib/index.mjs"),r=i("./node_modules/@pixi/sprite/lib/index.mjs");const o=new s.uq;n.q9.prototype._cacheAsBitmap=!1,n.q9.prototype._cacheData=null,n.q9.prototype._cacheAsBitmapResolution=null,n.q9.prototype._cacheAsBitmapMultisample=null;class a{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(n.q9.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(t){if(this._cacheAsBitmap===t)return;let e;this._cacheAsBitmap=t,t?(this._cacheData||(this._cacheData=new a),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}}),n.q9.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))},n.q9.prototype._initCachedDisplayObject=function(t){if(this._cacheData?.sprite)return;const e=this.alpha;this.alpha=1,t.batch.flush();const i=this.getLocalBounds(new s.M_,!0);if(this.filters?.length){const t=this.filters[0].padding;i.pad(t)}const n=this.cacheAsBitmapResolution||t.resolution;i.ceil(n),i.width=Math.max(i.width,1/n),i.height=Math.max(i.height,1/n);const a=t.renderTexture.current,l=t.renderTexture.sourceFrame.clone(),h=t.renderTexture.destinationFrame.clone(),d=t.projection.transform,c=s.Y7.create({width:i.width,height:i.height,resolution:n,multisample:this.cacheAsBitmapMultisample??t.multisample}),u=`cacheAsBitmap_${s.Wp.uid()}`;this._cacheData.textureCacheId=u,s.t5.addToCache(c.baseTexture,u),s.gP.addToCache(c,u);const p=this.transform.localTransform.copyTo(o).invert().translate(-i.x,-i.y);this.render=this._cacheData.originalRender,t.render(this,{renderTexture:c,clear:!0,transform:p,skipUpdateTransform:!1}),t.framebuffer.blit(),t.projection.transform=d,t.renderTexture.bind(a,l,h),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=e;const m=new r.k(c);m.transform.worldTransform=this.transform.worldTransform,m.anchor.x=-i.x/i.width,m.anchor.y=-i.y/i.height,m.alpha=e,m._bounds=this._bounds,this._cacheData.sprite=m,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=m.containsPoint.bind(m)},n.q9.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))},n.q9.prototype._initCachedDisplayObjectCanvas=function(t){if(this._cacheData?.sprite)return;const e=this.getLocalBounds(new s.M_,!0),i=this.alpha;this.alpha=1;const n=t.canvasContext.activeContext,a=t._projTransform,l=this.cacheAsBitmapResolution||t.resolution;e.ceil(l),e.width=Math.max(e.width,1/l),e.height=Math.max(e.height,1/l);const h=s.Y7.create({width:e.width,height:e.height,resolution:l}),d=`cacheAsBitmap_${s.Wp.uid()}`;this._cacheData.textureCacheId=d,s.t5.addToCache(h.baseTexture,d),s.gP.addToCache(h,d);const c=o;this.transform.localTransform.copyTo(c),c.invert(),c.tx-=e.x,c.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,{renderTexture:h,clear:!0,transform:c,skipUpdateTransform:!1}),t.canvasContext.activeContext=n,t._projTransform=a,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=i;const u=new r.k(h);u.transform.worldTransform=this.transform.worldTransform,u.anchor.x=-e.x/e.width,u.anchor.y=-e.y/e.height,u.alpha=i,u._bounds=this._bounds,this._cacheData.sprite=u,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=u.containsPoint.bind(u)},n.q9.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},n.q9.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},n.q9.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,s.t5.removeFromCache(this._cacheData.textureCacheId),s.gP.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},n.q9.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)}},"./node_modules/@pixi/mixin-get-child-by-name/lib/index.mjs":(t,e,i)=>{var s=i("./node_modules/@pixi/display/lib/index.mjs");s.q9.prototype.name=null,s.mc.prototype.getChildByName=function(t,e){for(let e=0,i=this.children.length;e<i;e++)if(this.children[e].name===t)return this.children[e];if(e)for(let e=0,i=this.children.length;e<i;e++){const i=this.children[e];if(!i.getChildByName)continue;const s=i.getChildByName(t,!0);if(s)return s}return null}},"./node_modules/@pixi/mixin-get-global-position/lib/index.mjs":(t,e,i)=>{var s=i("./node_modules/@pixi/core/lib/index.mjs");i("./node_modules/@pixi/display/lib/index.mjs").q9.prototype.getGlobalPosition=function(t=new s.bR,e=!1){return this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t}},"./node_modules/@pixi/particle-container/lib/index.mjs":(t,e,i)=>{i.d(e,{w:()=>r,e:()=>a});var s=i("./node_modules/@pixi/core/lib/index.mjs"),n=i("./node_modules/@pixi/display/lib/index.mjs");class r extends n.mc{constructor(t=1500,e,i=16384,n=!1){super(),i>16384&&(i=16384),this._properties=[!1,!0,!1,!1,!1],this._maxSize=t,this._batchSize=i,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=s.B9.NORMAL,this.autoResize=n,this.roundPixels=!0,this.baseTexture=null,this.setProperties(e),this._tintColor=new s.Q1(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(t){this._tintColor.setValue(t),this._tintColor.toRgbArray(this.tintRgb)}render(t){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",(()=>this.onChildrenChange(0)))),t.batch.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))}onChildrenChange(t){const e=Math.floor(t/this._batchSize);for(;this._bufferUpdateIDs.length<e;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=++this._updateID}dispose(){if(this._buffers){for(let t=0;t<this._buffers.length;++t)this._buffers[t].destroy();this._buffers=null}}destroy(t){super.destroy(t),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class o{constructor(t,e,i){this.geometry=new s.V2,this.indexBuffer=null,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<t.length;++i){let n=t[i];n={attributeName:n.attributeName,size:n.size,uploadFunction:n.uploadFunction,type:n.type||s.QE.FLOAT,offset:n.offset},e[i]?this.dynamicProperties.push(n):this.staticProperties.push(n)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const t=this.geometry;let e=0;this.indexBuffer=new s.hp(s.Wp.createIndicesForQuads(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(let t=0;t<this.dynamicProperties.length;++t){const i=this.dynamicProperties[t];i.offset=e,e+=i.size,this.dynamicStride+=i.size}const i=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(i),this.dynamicDataUint32=new Uint32Array(i),this.dynamicBuffer=new s.hp(this.dynamicData,!1,!1);let n=0;this.staticStride=0;for(let t=0;t<this.staticProperties.length;++t){const e=this.staticProperties[t];e.offset=n,n+=e.size,this.staticStride+=e.size}const r=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(r),this.staticDataUint32=new Uint32Array(r),this.staticBuffer=new s.hp(this.staticData,!0,!1);for(let e=0;e<this.dynamicProperties.length;++e){const i=this.dynamicProperties[e];t.addAttribute(i.attributeName,this.dynamicBuffer,0,i.type===s.QE.UNSIGNED_BYTE,i.type,4*this.dynamicStride,4*i.offset)}for(let e=0;e<this.staticProperties.length;++e){const i=this.staticProperties[e];t.addAttribute(i.attributeName,this.staticBuffer,0,i.type===s.QE.UNSIGNED_BYTE,i.type,4*this.staticStride,4*i.offset)}}uploadDynamic(t,e,i){for(let n=0;n<this.dynamicProperties.length;n++){const r=this.dynamicProperties[n];r.uploadFunction(t,e,i,r.type===s.QE.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,r.offset)}this.dynamicBuffer._updateID++}uploadStatic(t,e,i){for(let n=0;n<this.staticProperties.length;n++){const r=this.staticProperties[n];r.uploadFunction(t,e,i,r.type===s.QE.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,r.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}class a extends s.Pt{constructor(t){super(t),this.shader=null,this.properties=null,this.tempMatrix=new s.uq,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:s.QE.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=s.Mt.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n","varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",{}),this.state=s.Uw.for2d()}render(t){const e=t.children,i=t._maxSize,n=t._batchSize,r=this.renderer;let o=e.length;if(0===o)return;o>i&&!t.autoResize&&(o=i);let a=t._buffers;a||(a=t._buffers=this.generateBuffers(t));const l=e[0]._texture.baseTexture,h=l.alphaMode>0;this.state.blendMode=s.Wp.correctBlendMode(t.blendMode,h),r.state.set(this.state);const d=r.gl,c=t.worldTransform.copyTo(this.tempMatrix);c.prepend(r.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=c.toArray(!0),this.shader.uniforms.uColor=s.Q1.shared.setValue(t.tintRgb).premultiply(t.worldAlpha,h).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=l,this.renderer.shader.bind(this.shader);let u=!1;for(let i=0,s=0;i<o;i+=n,s+=1){let l=o-i;l>n&&(l=n),s>=a.length&&a.push(this._generateOneMoreBuffer(t));const h=a[s];h.uploadDynamic(e,i,l);const c=t._bufferUpdateIDs[s]||0;u=u||h._updateID<c,u&&(h._updateID=t._updateID,h.uploadStatic(e,i,l)),r.geometry.bind(h.geometry),d.drawElements(d.TRIANGLES,6*l,d.UNSIGNED_SHORT,0)}}generateBuffers(t){const e=[],i=t._maxSize,s=t._batchSize,n=t._properties;for(let t=0;t<i;t+=s)e.push(new o(this.properties,n,s));return e}_generateOneMoreBuffer(t){const e=t._batchSize,i=t._properties;return new o(this.properties,i,e)}uploadVertices(t,e,i,s,n,r){let o=0,a=0,l=0,h=0;for(let d=0;d<i;++d){const i=t[e+d],c=i._texture,u=i.scale.x,p=i.scale.y,m=c.trim,f=c.orig;m?(a=m.x-i.anchor.x*f.width,o=a+m.width,h=m.y-i.anchor.y*f.height,l=h+m.height):(o=f.width*(1-i.anchor.x),a=f.width*-i.anchor.x,l=f.height*(1-i.anchor.y),h=f.height*-i.anchor.y),s[r]=a*u,s[r+1]=h*p,s[r+n]=o*u,s[r+n+1]=h*p,s[r+2*n]=o*u,s[r+2*n+1]=l*p,s[r+3*n]=a*u,s[r+3*n+1]=l*p,r+=4*n}}uploadPosition(t,e,i,s,n,r){for(let o=0;o<i;o++){const i=t[e+o].position;s[r]=i.x,s[r+1]=i.y,s[r+n]=i.x,s[r+n+1]=i.y,s[r+2*n]=i.x,s[r+2*n+1]=i.y,s[r+3*n]=i.x,s[r+3*n+1]=i.y,r+=4*n}}uploadRotation(t,e,i,s,n,r){for(let o=0;o<i;o++){const i=t[e+o].rotation;s[r]=i,s[r+n]=i,s[r+2*n]=i,s[r+3*n]=i,r+=4*n}}uploadUvs(t,e,i,s,n,r){for(let o=0;o<i;++o){const i=t[e+o]._texture._uvs;i?(s[r]=i.x0,s[r+1]=i.y0,s[r+n]=i.x1,s[r+n+1]=i.y1,s[r+2*n]=i.x2,s[r+2*n+1]=i.y2,s[r+3*n]=i.x3,s[r+3*n+1]=i.y3,r+=4*n):(s[r]=0,s[r+1]=0,s[r+n]=0,s[r+n+1]=0,s[r+2*n]=0,s[r+2*n+1]=0,s[r+3*n]=0,s[r+3*n+1]=0,r+=4*n)}}uploadTint(t,e,i,n,r,o){for(let a=0;a<i;++a){const i=t[e+a],l=s.Q1.shared.setValue(i._tintRGB).toPremultiplied(i.alpha,i.texture.baseTexture.alphaMode>0);n[o]=l,n[o+r]=l,n[o+2*r]=l,n[o+3*r]=l,o+=4*r}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}a.extension={name:"particle",type:s.Ag.RendererPlugin},s.XO.add(a)},"./node_modules/@pixi/prepare/lib/index.mjs":(t,e,i)=>{i.d(e,{Ls:()=>f,It:()=>o,p8:()=>y,oP:()=>T});var s=i("./node_modules/@pixi/core/lib/index.mjs"),n=i("./node_modules/@pixi/display/lib/index.mjs"),r=i("./node_modules/@pixi/text/lib/index.mjs");class o{constructor(t){this.maxItemsPerFrame=t,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function a(t,e){let i=!1;if(t?._textures?.length)for(let n=0;n<t._textures.length;n++)if(t._textures[n]instanceof s.gP){const s=t._textures[n].baseTexture;e.includes(s)||(e.push(s),i=!0)}return i}function l(t,e){if(t.baseTexture instanceof s.t5){const i=t.baseTexture;return e.includes(i)||e.push(i),!0}return!1}function h(t,e){if(t._texture&&t._texture instanceof s.gP){const i=t._texture.baseTexture;return e.includes(i)||e.push(i),!0}return!1}function d(t,e){return e instanceof r.EY&&(e.updateText(!0),!0)}function c(t,e){if(e instanceof r.xJ){const t=e.toFontString();return r.Z1.measureFont(t),!0}return!1}function u(t,e){if(t instanceof r.EY){e.includes(t.style)||e.push(t.style),e.includes(t)||e.push(t);const i=t._texture.baseTexture;return e.includes(i)||e.push(i),!0}return!1}function p(t,e){return t instanceof r.xJ&&(e.includes(t)||e.push(t),!0)}const m=class t{constructor(e){this.limiter=new o(t.uploadsPerFrame),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(u),this.registerFindHook(p),this.registerFindHook(a),this.registerFindHook(l),this.registerFindHook(h),this.registerUploadHook(d),this.registerUploadHook(c)}upload(t){return new Promise((e=>{t&&this.add(t),this.queue.length?(this.completes.push(e),this.ticking||(this.ticking=!0,s.Rv.system.addOnce(this.tick,this,s.dQ.UTILITY))):e()}))}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const t=this.queue[0];let e=!1;if(t&&!t._destroyed)for(let i=0,s=this.uploadHooks.length;i<s;i++)if(this.uploadHooks[i](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)s.Rv.system.addOnce(this.tick,this,s.dQ.UTILITY);else{this.ticking=!1;const t=this.completes.slice(0);this.completes.length=0;for(let e=0,i=t.length;e<i;e++)t[e]()}}registerFindHook(t){return t&&this.addHooks.push(t),this}registerUploadHook(t){return t&&this.uploadHooks.push(t),this}add(t){for(let e=0,i=this.addHooks.length;e<i&&!this.addHooks[e](t,this.queue);e++);if(t instanceof n.mc)for(let e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this}destroy(){this.ticking&&s.Rv.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};m.uploadsPerFrame=4;let f=m;Object.defineProperties(s.W0,{UPLOADS_PER_FRAME:{get:()=>f.uploadsPerFrame,set(t){s.Wp.deprecation("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),f.uploadsPerFrame=t}}});var _=i("./node_modules/@pixi/graphics/lib/index.mjs");function g(t,e){return e instanceof s.t5&&(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0)}function v(t,e){if(!(e instanceof _.A1))return!1;const{geometry:i}=e;e.finishPoly(),i.updateBatches();const{batches:s}=i;for(let e=0;e<s.length;e++){const{texture:i}=s[e].style;i&&g(t,i.baseTexture)}return i.batchable||t.geometry.bind(i,e._resolveDirectShader(t)),!0}function x(t,e){return t instanceof _.A1&&(e.push(t),!0)}class y extends f{constructor(t){super(t),this.uploadHookHelper=this.renderer,this.registerFindHook(x),this.registerUploadHook(g),this.registerUploadHook(v)}}y.extension={name:"prepare",type:s.Ag.RendererSystem},s.XO.add(y);class T{constructor(t){this.maxMilliseconds=t,this.frameStart=0}beginFrame(){this.frameStart=Date.now()}allowedToUpload(){return Date.now()-this.frameStart<this.maxMilliseconds}}},"./node_modules/@pixi/sprite-animated/lib/index.mjs":(t,e,i)=>{i.d(e,{D:()=>r});var s=i("./node_modules/@pixi/core/lib/index.mjs"),n=i("./node_modules/@pixi/sprite/lib/index.mjs");class r extends n.k{constructor(t,e=!0){super(t[0]instanceof s.gP?t[0]:t[0].texture),this._textures=null,this._durations=null,this._autoUpdate=e,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=t}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(s.Rv.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(s.Rv.shared.add(this.update,this,s.dQ.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(t){this.stop(),this.currentFrame=t}gotoAndPlay(t){this.currentFrame=t,this.play()}update(t){if(!this._playing)return;const e=this.animationSpeed*t,i=this.currentFrame;if(null!==this._durations){let i=this._currentTime%1*this._durations[this.currentFrame];for(i+=e/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];const s=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<i||this.animationSpeed<0&&this.currentFrame>i)&&this.onLoop(),this.updateTexture())}updateTexture(){const t=this.currentFrame;this._previousFrame!==t&&(this._previousFrame=t,this._texture=this._textures[t],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(t){this.stop(),super.destroy(t),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(t){const e=[];for(let i=0;i<t.length;++i)e.push(s.gP.from(t[i]));return new r(e)}static fromImages(t){const e=[];for(let i=0;i<t.length;++i)e.push(s.gP.from(t[i]));return new r(e)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(t){if(t[0]instanceof s.gP)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(let e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t}set currentFrame(t){if(t<0||t>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${t}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(s.Rv.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(s.Rv.shared.add(this.update,this),this._isConnectedToTicker=!0))}}},"./node_modules/@pixi/sprite-tiling/lib/index.mjs":(t,e,i)=>{i.d(e,{t:()=>o,_:()=>h});var s=i("./node_modules/@pixi/core/lib/index.mjs"),n=i("./node_modules/@pixi/sprite/lib/index.mjs");const r=new s.bR;class o extends n.k{constructor(t,e=100,i=100){super(t),this.tileTransform=new s.dL,this._width=e,this._height=i,this.uvMatrix=this.texture.uvMatrix||new s.NW(t),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(t){this.uvMatrix.clampMargin=t,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(t){this.tileTransform.scale.copyFrom(t)}get tilePosition(){return this.tileTransform.position}set tilePosition(t){this.tileTransform.position.copyFrom(t)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(t){const e=this._texture;!e||!e.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))}_calculateBounds(){const t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,i=this._width*(1-this._anchor._x),s=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,i,s)}getLocalBounds(t){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new s.M_),t=this._localBoundsRect),this._bounds.getRectangle(t)):super.getLocalBounds.call(this,t)}containsPoint(t){this.worldTransform.applyInverse(t,r);const e=this._width,i=this._height,s=-e*this.anchor._x;if(r.x>=s&&r.x<s+e){const t=-i*this.anchor._y;if(r.y>=t&&r.y<t+i)return!0}return!1}destroy(t){super.destroy(t),this.tileTransform=null,this.uvMatrix=null}static from(t,e){const i=t instanceof s.gP?t:s.gP.from(t,e);return new o(i,e.width,e.height)}get width(){return this._width}set width(t){this._width=t}get height(){return this._height}set height(t){this._height=t}}var a="#version 100\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n";const l=new s.uq;class h extends s.Pt{constructor(t){super(t),t.runners.contextChange.add(this),this.quad=new s.X1,this.state=s.Uw.for2d()}contextChange(){const t=this.renderer,e={globals:t.globalUniforms};this.simpleShader=s.Mt.from(a,"#version 100\n#define SHADER_NAME Tiling-Sprite-Simple-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = texSample * uColor;\n}\n",e),this.shader=t.context.webGLVersion>1?s.Mt.from("#version 300 es\n#define SHADER_NAME Tiling-Sprite-300\n\nprecision lowp float;\n\nin vec2 aVertexPosition;\nin vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nout vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","#version 300 es\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nin vec2 vTextureCoord;\n\nout vec4 fragmentColor;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0\n\n    fragmentColor = texSample * uColor;\n}\n",e):s.Mt.from(a,"#version 100\n#ifdef GL_EXT_shader_texture_lod\n    #extension GL_EXT_shader_texture_lod : enable\n#endif\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    #ifdef GL_EXT_shader_texture_lod\n        vec4 texSample = unclamped == coord\n            ? texture2D(uSampler, coord) \n            : texture2DLodEXT(uSampler, coord, 0);\n    #else\n        vec4 texSample = texture2D(uSampler, coord);\n    #endif\n\n    gl_FragColor = texSample * uColor;\n}\n",e)}render(t){const e=this.renderer,i=this.quad;let n=i.vertices;n[0]=n[6]=t._width*-t.anchor.x,n[1]=n[3]=t._height*-t.anchor.y,n[2]=n[4]=t._width*(1-t.anchor.x),n[5]=n[7]=t._height*(1-t.anchor.y);const r=t.uvRespectAnchor?t.anchor.x:0,o=t.uvRespectAnchor?t.anchor.y:0;n=i.uvs,n[0]=n[6]=-r,n[1]=n[3]=-o,n[2]=n[4]=1-r,n[5]=n[7]=1-o,i.invalidate();const a=t._texture,h=a.baseTexture,d=h.alphaMode>0,c=t.tileTransform.localTransform,u=t.uvMatrix;let p=h.isPowerOfTwo&&a.frame.width===h.width&&a.frame.height===h.height;p&&(h._glTextures[e.CONTEXT_UID]?p=h.wrapMode!==s.uR.CLAMP:h.wrapMode===s.uR.CLAMP&&(h.wrapMode=s.uR.REPEAT));const m=p?this.simpleShader:this.shader,f=a.width,_=a.height,g=t._width,v=t._height;l.set(c.a*f/g,c.b*f/v,c.c*_/g,c.d*_/v,c.tx/g,c.ty/v),l.invert(),p?l.prepend(u.mapCoord):(m.uniforms.uMapCoord=u.mapCoord.toArray(!0),m.uniforms.uClampFrame=u.uClampFrame,m.uniforms.uClampOffset=u.uClampOffset),m.uniforms.uTransform=l.toArray(!0),m.uniforms.uColor=s.Q1.shared.setValue(t.tint).premultiply(t.worldAlpha,d).toArray(m.uniforms.uColor),m.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),m.uniforms.uSampler=a,e.shader.bind(m),e.geometry.bind(i),this.state.blendMode=s.Wp.correctBlendMode(t.blendMode,d),e.state.set(this.state),e.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}h.extension={name:"tilingSprite",type:s.Ag.RendererPlugin},s.XO.add(h)},"./node_modules/@pixi/spritesheet/lib/index.mjs":(t,e,i)=>{i.d(e,{z:()=>r,N:()=>h});var s=i("./node_modules/@pixi/core/lib/index.mjs");const n=class t{constructor(t,e,i){this.linkedSheets=[],(t instanceof s.t5||t instanceof s.gP)&&(t={texture:t,data:e,resolutionFilename:i});const{texture:n,data:r,resolutionFilename:o=null,cachePrefix:a=""}=t;this.cachePrefix=a,this._texture=n instanceof s.gP?n:null,this.baseTexture=n instanceof s.t5?n:this._texture.baseTexture,this.textures={},this.animations={},this.data=r;const l=this.baseTexture.resource;this.resolution=this._updateResolution(o||(l?l.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(t=null){const{scale:e}=this.data.meta;let i=s.Wp.getResolutionOfUrl(t,null);return null===i&&(i="number"==typeof e?e:parseFloat(e??"1")),1!==i&&this.baseTexture.setResolution(i),i}parse(){return new Promise((e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()}))}_processFrames(e){let i=e;const n=t.BATCH_SIZE;for(;i-e<n&&i<this._frameKeys.length;){const t=this._frameKeys[i],e=this._frames[t],n=e.frame;if(n){let i=null,r=null;const o=!1!==e.trimmed&&e.sourceSize?e.sourceSize:e.frame,a=new s.M_(0,0,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution);i=e.rotated?new s.M_(Math.floor(n.x)/this.resolution,Math.floor(n.y)/this.resolution,Math.floor(n.h)/this.resolution,Math.floor(n.w)/this.resolution):new s.M_(Math.floor(n.x)/this.resolution,Math.floor(n.y)/this.resolution,Math.floor(n.w)/this.resolution,Math.floor(n.h)/this.resolution),!1!==e.trimmed&&e.spriteSourceSize&&(r=new s.M_(Math.floor(e.spriteSourceSize.x)/this.resolution,Math.floor(e.spriteSourceSize.y)/this.resolution,Math.floor(n.w)/this.resolution,Math.floor(n.h)/this.resolution)),this.textures[t]=new s.gP(this.baseTexture,i,a,r,e.rotated?2:0,e.anchor,e.borders),s.gP.addToCache(this.textures[t],this.cachePrefix+t.toString())}i++}}_processAnimations(){const t=this.data.animations||{};for(const e in t){this.animations[e]=[];for(let i=0;i<t[e].length;i++){const s=t[e][i];this.animations[e].push(this.textures[s])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout((()=>{this._batchIndex*t.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())}),0)}destroy(t=!1){for(const t in this.textures)this.textures[t].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(this._texture?.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};n.BATCH_SIZE=1e3;let r=n;var o=i("./node_modules/@pixi/assets/lib/index.mjs");const a=["jpg","png","jpeg","avif","webp","s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"];function l(t,e,i){const n={};if(t.forEach((t=>{n[t]=e})),Object.keys(e.textures).forEach((t=>{n[`${e.cachePrefix}${t}`]=e.textures[t]})),!i){const i=s.Wp.path.dirname(t[0]);e.linkedSheets.forEach(((t,s)=>{Object.assign(n,l([`${i}/${e.data.meta.related_multi_packs[s]}`],t,!0))}))}return n}const h={extension:s.Ag.Asset,cache:{test:t=>t instanceof r,getCacheableAssets:(t,e)=>l(t,e,!1)},resolver:{test:t=>{const e=t.split("?")[0].split("."),i=e.pop(),s=e.pop();return"json"===i&&a.includes(s)},parse:t=>{const e=t.split(".");return{resolution:parseFloat(s.W0.RETINA_PREFIX.exec(t)?.[1]??"1"),format:e[e.length-2],src:t}}},loader:{name:"spritesheetLoader",extension:{type:s.Ag.LoadParser,priority:o.T9.Normal},testParse:async(t,e)=>".json"===s.Wp.path.extname(e.src).toLowerCase()&&!!t.frames,async parse(t,e,i){const{texture:n,imageFilename:a,cachePrefix:l}=e?.data??{};let h,d=s.Wp.path.dirname(e.src);if(d&&d.lastIndexOf("/")!==d.length-1&&(d+="/"),n&&n.baseTexture)h=n;else{const s=(0,o.Y8)(d+(a??t.meta.image),e.src);h=(await i.load([s]))[s]}const c=new r({texture:h.baseTexture,data:t,resolutionFilename:e.src,cachePrefix:l});await c.parse();const u=t?.meta?.related_multi_packs;if(Array.isArray(u)){const t=[];for(const s of u){if("string"!=typeof s)continue;let n=d+s;e.data?.ignoreMultiPack||(n=(0,o.Y8)(n,e.src),t.push(i.load({src:n,data:{ignoreMultiPack:!0}})))}const s=await Promise.all(t);c.linkedSheets=s,s.forEach((t=>{t.linkedSheets=[c].concat(c.linkedSheets.filter((e=>e!==t)))}))}return c},unload(t){t.destroy(!0)}}};s.XO.add(h)},"./node_modules/@pixi/text-bitmap/lib/index.mjs":(t,e,i)=>{i.d(e,{Bx:()=>f,xb:()=>r,T7:()=>E,lk:()=>o,Tt:()=>a,Kk:()=>l,AW:()=>d,Rb:()=>A});var s=i("./node_modules/@pixi/core/lib/index.mjs"),n=i("./node_modules/@pixi/text/lib/index.mjs");class r{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class o{static test(t){return"string"==typeof t&&t.startsWith("info face=")}static parse(t){const e=t.match(/^[a-z]+\s+.+$/gm),i={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const t in e){const s=e[t].match(/^[a-z]+/gm)[0],n=e[t].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),r={};for(const t in n){const e=n[t].split("="),i=e[0],s=e[1].replace(/"/gm,""),o=parseFloat(s),a=isNaN(o)?s:o;r[i]=a}i[s].push(r)}const s=new r;return i.info.forEach((t=>s.info.push({face:t.face,size:parseInt(t.size,10)}))),i.common.forEach((t=>s.common.push({lineHeight:parseInt(t.lineHeight,10)}))),i.page.forEach((t=>s.page.push({id:parseInt(t.id,10),file:t.file}))),i.char.forEach((t=>s.char.push({id:parseInt(t.id,10),page:parseInt(t.page,10),x:parseInt(t.x,10),y:parseInt(t.y,10),width:parseInt(t.width,10),height:parseInt(t.height,10),xoffset:parseInt(t.xoffset,10),yoffset:parseInt(t.yoffset,10),xadvance:parseInt(t.xadvance,10)}))),i.kerning.forEach((t=>s.kerning.push({first:parseInt(t.first,10),second:parseInt(t.second,10),amount:parseInt(t.amount,10)}))),i.distanceField.forEach((t=>s.distanceField.push({distanceRange:parseInt(t.distanceRange,10),fieldType:t.fieldType}))),s}}class a{static test(t){const e=t;return"string"!=typeof t&&"getElementsByTagName"in t&&e.getElementsByTagName("page").length&&null!==e.getElementsByTagName("info")[0].getAttribute("face")}static parse(t){const e=new r,i=t.getElementsByTagName("info"),s=t.getElementsByTagName("common"),n=t.getElementsByTagName("page"),o=t.getElementsByTagName("char"),a=t.getElementsByTagName("kerning"),l=t.getElementsByTagName("distanceField");for(let t=0;t<i.length;t++)e.info.push({face:i[t].getAttribute("face"),size:parseInt(i[t].getAttribute("size"),10)});for(let t=0;t<s.length;t++)e.common.push({lineHeight:parseInt(s[t].getAttribute("lineHeight"),10)});for(let t=0;t<n.length;t++)e.page.push({id:parseInt(n[t].getAttribute("id"),10)||0,file:n[t].getAttribute("file")});for(let t=0;t<o.length;t++){const i=o[t];e.char.push({id:parseInt(i.getAttribute("id"),10),page:parseInt(i.getAttribute("page"),10)||0,x:parseInt(i.getAttribute("x"),10),y:parseInt(i.getAttribute("y"),10),width:parseInt(i.getAttribute("width"),10),height:parseInt(i.getAttribute("height"),10),xoffset:parseInt(i.getAttribute("xoffset"),10),yoffset:parseInt(i.getAttribute("yoffset"),10),xadvance:parseInt(i.getAttribute("xadvance"),10)})}for(let t=0;t<a.length;t++)e.kerning.push({first:parseInt(a[t].getAttribute("first"),10),second:parseInt(a[t].getAttribute("second"),10),amount:parseInt(a[t].getAttribute("amount"),10)});for(let t=0;t<l.length;t++)e.distanceField.push({fieldType:l[t].getAttribute("fieldType"),distanceRange:parseInt(l[t].getAttribute("distanceRange"),10)});return e}}class l{static test(t){return!("string"!=typeof t||!t.includes("<font>"))&&a.test(s.W0.ADAPTER.parseXML(t))}static parse(t){return a.parse(s.W0.ADAPTER.parseXML(t))}}const h=[o,a,l];function d(t){for(let e=0;e<h.length;e++)if(h[e].test(t))return h[e];return null}function c(t,e,i,r,o,a,l){const h=i.text,d=i.fontProperties;e.translate(r,o),e.scale(a,a);const c=l.strokeThickness/2,u=-l.strokeThickness/2;if(e.font=l.toFontString(),e.lineWidth=l.strokeThickness,e.textBaseline=l.textBaseline,e.lineJoin=l.lineJoin,e.miterLimit=l.miterLimit,e.fillStyle=function(t,e,i,s,r,o){const a=i.fill;if(!Array.isArray(a))return a;if(1===a.length)return a[0];let l;const h=i.dropShadow?i.dropShadowDistance:0,d=i.padding||0,c=t.width/s-h-2*d,u=t.height/s-h-2*d,p=a.slice(),m=i.fillGradientStops.slice();if(!m.length){const t=p.length+1;for(let e=1;e<t;++e)m.push(e/t)}if(p.unshift(a[0]),m.unshift(0),p.push(a[a.length-1]),m.push(1),i.fillGradientType===n.T.LINEAR_VERTICAL){l=e.createLinearGradient(c/2,d,c/2,u+d);let t=0;const s=(o.fontProperties.fontSize+i.strokeThickness)/u;for(let e=0;e<r.length;e++){const i=o.lineHeight*e;for(let e=0;e<p.length;e++){let n=0;n="number"==typeof m[e]?m[e]:e/p.length;const r=i/u+n*s;let o=Math.max(t,r);o=Math.min(o,1),l.addColorStop(o,p[e]),t=o}}}else{l=e.createLinearGradient(d,u/2,c+d,u/2);const t=p.length+1;let i=1;for(let e=0;e<p.length;e++){let s;s="number"==typeof m[e]?m[e]:i/t,l.addColorStop(s,p[e]),i++}}return l}(t,e,l,a,[h],i),e.strokeStyle=l.stroke,l.dropShadow){const t=l.dropShadowColor,i=l.dropShadowBlur*a,n=l.dropShadowDistance*a;e.shadowColor=s.Q1.shared.setValue(t).setAlpha(l.dropShadowAlpha).toRgbaString(),e.shadowBlur=i,e.shadowOffsetX=Math.cos(l.dropShadowAngle)*n,e.shadowOffsetY=Math.sin(l.dropShadowAngle)*n}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;l.stroke&&l.strokeThickness&&e.strokeText(h,c,u+i.lineHeight-d.descent),l.fill&&e.fillText(h,c,u+i.lineHeight-d.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function u(t){return Array.from?Array.from(t):t.split("")}function p(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}const m=class t{constructor(t,e,i){const[n]=t.info,[r]=t.common,[o]=t.page,[a]=t.distanceField,l=s.Wp.getResolutionOfUrl(o.file),h={};this._ownsTextures=i,this.font=n.face,this.size=n.size,this.lineHeight=r.lineHeight/l,this.chars={},this.pageTextures=h;for(let i=0;i<t.page.length;i++){const{id:n,file:r}=t.page[i];h[n]=e instanceof Array?e[i]:e[r],a?.fieldType&&"none"!==a.fieldType&&(h[n].baseTexture.alphaMode=s.Gk.NO_PREMULTIPLIED_ALPHA,h[n].baseTexture.mipmap=s.E8.OFF)}for(let e=0;e<t.char.length;e++){const{id:i,page:n}=t.char[e];let{x:r,y:o,width:a,height:d,xoffset:c,yoffset:u,xadvance:p}=t.char[e];r/=l,o/=l,a/=l,d/=l,c/=l,u/=l,p/=l;const m=new s.M_(r+h[n].frame.x/l,o+h[n].frame.y/l,a,d);this.chars[i]={xOffset:c,yOffset:u,xAdvance:p,kerning:{},texture:new s.gP(h[n].baseTexture,m),page:n}}for(let e=0;e<t.kerning.length;e++){let{first:i,second:s,amount:n}=t.kerning[e];i/=l,s/=l,n/=l,this.chars[s]&&(this.chars[s].kerning[i]=n)}this.distanceFieldRange=a?.distanceRange,this.distanceFieldType=a?.fieldType?.toLowerCase()??"none"}destroy(){for(const t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(const t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null}static install(e,i,n){let o;if(e instanceof r)o=e;else{const t=d(e);if(!t)throw new Error("Unrecognized data format for font.");o=t.parse(e)}i instanceof s.gP&&(i=[i]);const a=new t(o,i,n);return t.available[a.font]=a,a}static uninstall(e){const i=t.available[e];if(!i)throw new Error(`No font found named '${e}'`);i.destroy(),delete t.available[e]}static from(e,i,o){if(!e)throw new Error("[BitmapFont] Property `name` is required.");const{chars:a,padding:l,resolution:h,textureWidth:d,textureHeight:m,...f}=Object.assign({},t.defaultOptions,o),_=function(t){"string"==typeof t&&(t=[t]);const e=[];for(let i=0,s=t.length;i<s;i++){const s=t[i];if(Array.isArray(s)){if(2!==s.length)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${s.length}.`);const t=s[0].charCodeAt(0),i=s[1].charCodeAt(0);if(i<t)throw new Error("[BitmapFont]: Invalid character range.");for(let s=t,n=i;s<=n;s++)e.push(String.fromCharCode(s))}else e.push(...u(s))}if(0===e.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}(a),g=i instanceof n.xJ?i:new n.xJ(i),v=d,x=new r;x.info[0]={face:g.fontFamily,size:g.fontSize},x.common[0]={lineHeight:g.fontSize};let y,T,E,S=0,b=0,A=0;const P=[],w=[];for(let t=0;t<_.length;t++){y||(y=s.W0.ADAPTER.createCanvas(),y.width=d,y.height=m,T=y.getContext("2d"),E=new s.t5(y,{resolution:h,...f}),P.push(E),w.push(new s.gP(E)),x.page.push({id:w.length-1,file:""}));const e=_[t],i=n.Z1.measureText(e,g,!1,y),r=i.width,o=Math.ceil(i.height),a=Math.ceil(("italic"===g.fontStyle?2:1)*r);if(b>=m-o*h){if(0===b)throw new Error(`[BitmapFont] textureHeight ${m}px is too small (fontFamily: '${g.fontFamily}', fontSize: ${g.fontSize}px, char: '${e}')`);--t,y=null,T=null,E=null,b=0,S=0,A=0;continue}if(A=Math.max(o+i.fontProperties.descent,A),a*h+S>=v){if(0===S)throw new Error(`[BitmapFont] textureWidth ${d}px is too small (fontFamily: '${g.fontFamily}', fontSize: ${g.fontSize}px, char: '${e}')`);--t,b+=A*h,b=Math.ceil(b),S=0,A=0;continue}c(y,T,i,S,b,h,g);const u=p(i.text);x.char.push({id:u,page:w.length-1,x:S/h,y:b/h,width:a,height:o,xoffset:0,yoffset:0,xadvance:r-(g.dropShadow?g.dropShadowDistance:0)-(g.stroke?g.strokeThickness:0)}),S+=(a+2*l)*h,S=Math.ceil(S)}if(!o?.skipKerning)for(let t=0,e=_.length;t<e;t++){const i=_[t];for(let t=0;t<e;t++){const e=_[t],s=T.measureText(i).width,n=T.measureText(e).width,r=T.measureText(i+e).width-(s+n);r&&x.kerning.push({first:p(i),second:p(e),amount:r})}}const R=new t(x,w,!0);return void 0!==t.available[e]&&t.uninstall(e),t.available[e]=R,R}};m.ALPHA=[["a","z"],["A","Z"]," "],m.NUMERIC=[["0","9"]],m.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],m.ASCII=[[" ","~"]],m.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:m.ALPHANUMERIC},m.available={};let f=m;var _=i("./node_modules/@pixi/display/lib/index.mjs"),g=i("./node_modules/@pixi/mesh/lib/index.mjs");const v=[],x=[],y=[],T=class t extends _.mc{constructor(e,i={}){super();const{align:n,tint:r,maxWidth:o,letterSpacing:a,fontName:l,fontSize:h}=Object.assign({},t.styleDefaults,i);if(!f.available[l])throw new Error(`Missing BitmapFont "${l}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=n,this._tintColor=new s.Q1(r),this._font=void 0,this._fontName=l,this._fontSize=h,this.text=e,this._maxWidth=o,this._maxLineHeight=0,this._letterSpacing=a,this._anchor=new s.oA((()=>{this.dirty=!0}),this,0,0),this._roundPixels=s.W0.ROUND_PIXELS,this.dirty=!0,this._resolution=s.W0.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){const t=f.available[this._fontName],e=this.fontSize,i=e/t.size,n=new s.bR,r=[],o=[],a=[],l=u(this._text.replace(/(?:\r\n|\r)/g,"\n")||" "),h=this._maxWidth*t.size/e,d="none"===t.distanceFieldType?v:x;let c=null,m=0,_=0,T=0,E=-1,S=0,b=0,A=0,P=0;for(let e=0;e<l.length;e++){const i=l[e],d=p(i);if(/(?:\s)/.test(i)&&(E=e,S=m,P++),"\r"===i||"\n"===i){o.push(m),a.push(-1),_=Math.max(_,m),++T,++b,n.x=0,n.y+=t.lineHeight,c=null,P=0;continue}const u=t.chars[d];if(!u)continue;c&&u.kerning[c]&&(n.x+=u.kerning[c]);const f=y.pop()||{texture:s.gP.EMPTY,line:0,charCode:0,prevSpaces:0,position:new s.bR};f.texture=u.texture,f.line=T,f.charCode=d,f.position.x=Math.round(n.x+u.xOffset+this._letterSpacing/2),f.position.y=Math.round(n.y+u.yOffset),f.prevSpaces=P,r.push(f),m=f.position.x+Math.max(u.xAdvance-u.xOffset,u.texture.orig.width),n.x+=u.xAdvance+this._letterSpacing,A=Math.max(A,u.yOffset+u.texture.height),c=d,-1!==E&&h>0&&n.x>h&&(++b,s.Wp.removeItems(r,1+E-b,1+e-E),e=E,E=-1,o.push(S),a.push(r.length>0?r[r.length-1].prevSpaces:0),_=Math.max(_,S),T++,n.x=0,n.y+=t.lineHeight,c=null,P=0)}const w=l[l.length-1];"\r"!==w&&"\n"!==w&&(/(?:\s)/.test(w)&&(m=S),o.push(m),_=Math.max(_,m),a.push(-1));const R=[];for(let t=0;t<=T;t++){let e=0;"right"===this._align?e=_-o[t]:"center"===this._align?e=(_-o[t])/2:"justify"===this._align&&(e=a[t]<0?0:(_-o[t])/a[t]),R.push(e)}const M=r.length,C={},D=[],I=this._activePagesMeshData;d.push(...I);for(let e=0;e<M;e++){const i=r[e].texture,n=i.baseTexture.uid;if(!C[n]){let e=d.pop();if(!e){const i=new g.u;let n,r;"none"===t.distanceFieldType?(n=new g.PX(s.gP.EMPTY),r=s.B9.NORMAL):(n=new g.PX(s.gP.EMPTY,{program:s.BP.from("// Mesh material default fragment\r\nattribute vec2 aVertexPosition;\r\nattribute vec2 aTextureCoord;\r\n\r\nuniform mat3 projectionMatrix;\r\nuniform mat3 translationMatrix;\r\nuniform mat3 uTextureMatrix;\r\n\r\nvarying vec2 vTextureCoord;\r\n\r\nvoid main(void)\r\n{\r\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r\n\r\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r\n}\r\n","// Pixi texture info\r\nvarying vec2 vTextureCoord;\r\nuniform sampler2D uSampler;\r\n\r\n// Tint\r\nuniform vec4 uColor;\r\n\r\n// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r\nuniform float uFWidth;\r\n\r\nvoid main(void) {\r\n\r\n  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r\n  vec4 texColor = texture2D(uSampler, vTextureCoord);\r\n\r\n  // MSDF\r\n  float median = texColor.r + texColor.g + texColor.b -\r\n                  min(texColor.r, min(texColor.g, texColor.b)) -\r\n                  max(texColor.r, max(texColor.g, texColor.b));\r\n  // SDF\r\n  median = min(median, texColor.a);\r\n\r\n  float screenPxDistance = uFWidth * (median - 0.5);\r\n  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r\n  if (median < 0.01) {\r\n    alpha = 0.0;\r\n  } else if (median > 0.99) {\r\n    alpha = 1.0;\r\n  }\r\n\r\n  // Gamma correction for coverage-like alpha\r\n  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r\n  float gamma = mix(1.0, 1.0 / 2.2, luma);\r\n  float coverage = pow(uColor.a * alpha, gamma);  \r\n\r\n  // NPM Textures, NPM outputs\r\n  gl_FragColor = vec4(uColor.rgb, coverage);\r\n}\r\n"),uniforms:{uFWidth:0}}),r=s.B9.NORMAL_NPM);const o=new g.e(i,n);o.blendMode=r,e={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:o,vertices:null,uvs:null,indices:null}}e.index=0,e.indexCount=0,e.vertexCount=0,e.uvsCount=0,e.total=0;const{_textureCache:r}=this;r[n]=r[n]||new s.gP(i.baseTexture),e.mesh.texture=r[n],e.mesh.tint=this._tintColor.value,D.push(e),C[n]=e}C[n].total++}for(let t=0;t<I.length;t++)D.includes(I[t])||this.removeChild(I[t].mesh);for(let t=0;t<D.length;t++)D[t].mesh.parent!==this&&this.addChild(D[t].mesh);this._activePagesMeshData=D;for(const t in C){const e=C[t],i=e.total;if(!(e.indices?.length>6*i)||e.vertices.length<2*g.e.BATCHABLE_SIZE)e.vertices=new Float32Array(8*i),e.uvs=new Float32Array(8*i),e.indices=new Uint16Array(6*i);else{const t=e.total,i=e.vertices;for(let e=4*t*2;e<i.length;e++)i[e]=0}e.mesh.size=6*i}for(let t=0;t<M;t++){const e=r[t];let s=e.position.x+R[e.line]*("justify"===this._align?e.prevSpaces:1);this._roundPixels&&(s=Math.round(s));const n=s*i,o=e.position.y*i,a=e.texture,l=C[a.baseTexture.uid],h=a.frame,d=a._uvs,c=l.index++;l.indices[6*c+0]=0+4*c,l.indices[6*c+1]=1+4*c,l.indices[6*c+2]=2+4*c,l.indices[6*c+3]=0+4*c,l.indices[6*c+4]=2+4*c,l.indices[6*c+5]=3+4*c,l.vertices[8*c+0]=n,l.vertices[8*c+1]=o,l.vertices[8*c+2]=n+h.width*i,l.vertices[8*c+3]=o,l.vertices[8*c+4]=n+h.width*i,l.vertices[8*c+5]=o+h.height*i,l.vertices[8*c+6]=n,l.vertices[8*c+7]=o+h.height*i,l.uvs[8*c+0]=d.x0,l.uvs[8*c+1]=d.y0,l.uvs[8*c+2]=d.x1,l.uvs[8*c+3]=d.y1,l.uvs[8*c+4]=d.x2,l.uvs[8*c+5]=d.y2,l.uvs[8*c+6]=d.x3,l.uvs[8*c+7]=d.y3}this._textWidth=_*i,this._textHeight=(n.y+t.lineHeight)*i;for(const t in C){const e=C[t];if(0!==this.anchor.x||0!==this.anchor.y){let t=0;const i=this._textWidth*this.anchor.x,s=this._textHeight*this.anchor.y;for(let n=0;n<e.total;n++)e.vertices[t++]-=i,e.vertices[t++]-=s,e.vertices[t++]-=i,e.vertices[t++]-=s,e.vertices[t++]-=i,e.vertices[t++]-=s,e.vertices[t++]-=i,e.vertices[t++]-=s}this._maxLineHeight=A*i;const s=e.mesh.geometry.getBuffer("aVertexPosition"),n=e.mesh.geometry.getBuffer("aTextureCoord"),r=e.mesh.geometry.getIndex();s.data=e.vertices,n.data=e.uvs,r.data=e.indices,s.update(),n.update(),r.update()}for(let t=0;t<r.length;t++)y.push(r[t]);this._font=t,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0);const{distanceFieldRange:e,distanceFieldType:i,size:s}=f.available[this._fontName];if("none"!==i){const{a:i,b:n,c:r,d:o}=this.worldTransform,a=Math.sqrt(i*i+n*n),l=Math.sqrt(r*r+o*o),h=(Math.abs(a)+Math.abs(l))/2,d=this.fontSize/s,c=t._view.resolution;for(const t of this._activePagesMeshData)t.mesh.shader.uniforms.uFWidth=h*e*d*c}super._render(t)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const t=f.available[this._fontName];if(!t)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==t&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(t){if(this.tint!==t){this._tintColor.setValue(t);for(let e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.dirty=!0)}get fontName(){return this._fontName}set fontName(t){if(!f.available[t])throw new Error(`Missing BitmapFont "${t}"`);this._fontName!==t&&(this._fontName=t,this.dirty=!0)}get fontSize(){return this._fontSize??f.available[this._fontName].size}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)}get anchor(){return this._anchor}set anchor(t){"number"==typeof t?this._anchor.set(t):this._anchor.copyFrom(t)}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}destroy(t){const{_textureCache:e}=this,i="none"===f.available[this._fontName].distanceFieldType?v:x;i.push(...this._activePagesMeshData);for(const t of this._activePagesMeshData)this.removeChild(t.mesh);this._activePagesMeshData=[],i.filter((t=>e[t.mesh.texture.baseTexture.uid])).forEach((t=>{t.mesh.texture=s.gP.EMPTY}));for(const t in e)e[t].destroy(),delete e[t];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(t)}};T.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};let E=T;var S=i("./node_modules/@pixi/assets/lib/index.mjs");const b=[".xml",".fnt"],A={extension:{type:s.Ag.LoadParser,priority:S.T9.Normal},name:"loadBitmapFont",test:t=>b.includes(s.Wp.path.extname(t).toLowerCase()),testParse:async t=>o.test(t)||l.test(t),async parse(t,e,i){const n=o.test(t)?o.parse(t):l.parse(t),{src:r}=e,{page:a}=n,h=[];for(let t=0;t<a.length;++t){const e=a[t].file;let i=s.Wp.path.join(s.Wp.path.dirname(r),e);i=(0,S.Y8)(i,r),h.push(i)}const d=await i.load(h),c=h.map((t=>d[t]));return f.install(n,c,!0)},load:async(t,e)=>(await s.W0.ADAPTER.fetch(t)).text(),unload(t){t.destroy()}};s.XO.add(A)},"./node_modules/@pixi/text-html/lib/index.mjs":(t,e,i)=>{i.d(e,{x:()=>h,I:()=>a});var s=i("./node_modules/@pixi/core/lib/index.mjs"),n=i("./node_modules/@pixi/sprite/lib/index.mjs"),r=i("./node_modules/@pixi/text/lib/index.mjs");const o=class t extends r.xJ{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(e){return new t(Object.keys(t.defaultOptions).reduce(((t,i)=>({...t,[i]:e[i]})),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach((e=>{URL.revokeObjectURL(e.src),e.refs--,0===e.refs&&(e.fontFace&&document.fonts.delete(e.fontFace),delete t.availableFonts[e.originalUrl])})),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(e,i={}){const{availableFonts:n}=t;if(n[e]){const t=n[e];return this._fonts.push(t),t.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return s.W0.ADAPTER.fetch(e).then((t=>t.blob())).then((async t=>new Promise(((e,i)=>{const s=URL.createObjectURL(t),n=new FileReader;n.onload=()=>e([s,n.result]),n.onerror=i,n.readAsDataURL(t)})))).then((async([t,r])=>{const o=Object.assign({family:s.Wp.path.basename(e,s.Wp.path.extname(e)),weight:"normal",style:"normal",display:"auto",src:t,dataSrc:r,refs:1,originalUrl:e,fontFace:null},i);n[e]=o,this._fonts.push(o),this.styleID++;const a=new FontFace(o.family,`url(${o.src})`,{weight:o.weight,style:o.style,display:o.display});o.fontFace=a,await a.load(),document.fonts.add(a),await document.fonts.ready,this.styleID++,this.fontsDirty=!0}))}addOverride(...t){const e=t.filter((t=>!this._overrides.includes(t)));e.length>0&&(this._overrides.push(...e),this.styleID++)}removeOverride(...t){const e=t.filter((t=>this._overrides.includes(t)));e.length>0&&(this._overrides=this._overrides.filter((t=>!e.includes(t))),this.styleID++)}toCSS(t){return[`transform: scale(${t})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?["word-wrap: "+(this.breakWords?"break-all":"break-word"),`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce(((t,e)=>`${t}\n            @font-face {\n                font-family: "${e.family}";\n                src: url('${e.dataSrc}');\n                font-weight: ${e.weight};\n                font-style: ${e.style};\n                font-display: ${e.display};\n            }`),this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(t){this._stylesheet!==t&&(this._stylesheet=t,this.styleID++)}normalizeColor(t){return Array.isArray(t)&&(t=s.Wp.rgb2hex(t)),"number"==typeof t?s.Wp.hex2string(t):t}dropShadowToCSS(){let t=this.normalizeColor(this.dropShadowColor);const e=this.dropShadowAlpha,i=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),s=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);t.startsWith("#")&&e<1&&(t+=(255*e|0).toString(16).padStart(2,"0"));const n=`${i}px ${s}px`;return this.dropShadowBlur>0?`text-shadow: ${n} ${this.dropShadowBlur}px ${t}`:`text-shadow: ${n} ${t}`}reset(){Object.assign(this,t.defaultOptions)}onBeforeDraw(){const{fontsDirty:t}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&t?new Promise((t=>setTimeout(t,100))):Promise.resolve()}get isSafari(){const{userAgent:t}=s.W0.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(t)}set fillGradientStops(t){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(t){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(t){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(t){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(t){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(t){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(t){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};o.availableFonts={},o.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};let a=o;const l=class t extends n.k{constructor(e="",i={}){super(s.gP.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this.localStyleID=-1,this.dirty=!1,this._updateID=0,this.ownsStyle=!1;const n=new Image,r=s.gP.from(n,{scaleMode:s.W0.SCALE_MODE,resourceOptions:{autoLoad:!1}});r.orig=new s.M_,r.trim=new s.M_,this.texture=r;const o="http://www.w3.org/2000/svg",a="http://www.w3.org/1999/xhtml",l=document.createElementNS(o,"svg"),h=document.createElementNS(o,"foreignObject"),d=document.createElementNS(a,"div"),c=document.createElementNS(a,"style");h.setAttribute("width","10000"),h.setAttribute("height","10000"),h.style.overflow="hidden",l.appendChild(h),this.maxWidth=t.defaultMaxWidth,this.maxHeight=t.defaultMaxHeight,this._domElement=d,this._styleElement=c,this._svgRoot=l,this._foreignObject=h,this._foreignObject.appendChild(c),this._foreignObject.appendChild(d),this._image=n,this._loadImage=new Image,this._autoResolution=t.defaultAutoResolution,this._resolution=t.defaultResolution??s.W0.RESOLUTION,this.text=e,this.style=i}measureText(t){const{text:e,style:i,resolution:s}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},t);Object.assign(this._domElement,{innerHTML:e,style:i.toCSS(s)}),this._styleElement.textContent=i.toGlobalCSS(),document.body.appendChild(this._svgRoot);const n=this._domElement.getBoundingClientRect();this._svgRoot.remove();const{width:r,height:o}=n;(r>this.maxWidth||o>this.maxHeight)&&console.warn("[HTMLText] Large expanse of text, increase HTMLText.maxWidth or HTMLText.maxHeight property.");const a=Math.min(this.maxWidth,Math.ceil(r)),l=Math.min(this.maxHeight,Math.ceil(o));return this._svgRoot.setAttribute("width",a.toString()),this._svgRoot.setAttribute("height",l.toString()),e!==this._text&&(this._domElement.innerHTML=this._text),i!==this._style&&(Object.assign(this._domElement,{style:this._style?.toCSS(s)}),this._styleElement.textContent=this._style?.toGlobalCSS()),{width:a+2*i.padding,height:l+2*i.padding}}async updateText(t=!0){const{style:e,_image:i,_loadImage:s}=this;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;const{width:n,height:r}=this.measureText();i.width=s.width=Math.ceil(Math.max(1,n)),i.height=s.height=Math.ceil(Math.max(1,r)),this._updateID++;const o=this._updateID;await new Promise((t=>{s.onload=async()=>{o<this._updateID||(await e.onBeforeDraw(),i.src=s.src,s.onload=null,s.src="",this.updateTexture()),t()};const n=(new XMLSerializer).serializeToString(this._svgRoot);s.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(n)}`}))}get source(){return this._image}updateTexture(){const{style:t,texture:e,_image:i,resolution:s}=this,{padding:n}=t,{baseTexture:r}=e;e.trim.width=e._frame.width=i.width/s,e.trim.height=e._frame.height=i.height/s,e.trim.x=-n,e.trim.y=-n,e.orig.width=e._frame.width-2*n,e.orig.height=e._frame.height-2*n,this._onTextureUpdate(),r.setRealSize(i.width,i.height,s),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}_renderCanvas(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(t)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds(t)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},t.defaultDestroyOptions,e),super.destroy(e);const i=null;this.ownsStyle&&this._style?.cleanFonts(),this._style=i,this._svgRoot?.remove(),this._svgRoot=i,this._domElement?.remove(),this._domElement=i,this._foreignObject?.remove(),this._foreignObject=i,this._styleElement?.remove(),this._styleElement=i,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=i,this._image.src="",this._image=i}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(t){this.updateText(!0);const e=s.Wp.sign(this.scale.x)||1;this.scale.x=e*t/this._image.width/this.resolution,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(t){this.updateText(!0);const e=s.Wp.sign(this.scale.y)||1;this.scale.y=e*t/this._image.height/this.resolution,this._height=t}get style(){return this._style}set style(t){this._style!==t&&((t=t||{})instanceof a?(this.ownsStyle=!1,this._style=t):t instanceof r.xJ?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=a.from(t)):(this.ownsStyle=!0,this._style=new a(t)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(t){t=String(""===t||null==t?" ":t),t=this.sanitiseText(t),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}sanitiseText(t){return t.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};l.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},l.defaultMaxWidth=2024,l.defaultMaxHeight=2024,l.defaultAutoResolution=!0;let h=l},"./node_modules/@pixi/text/lib/index.mjs":(t,e,i)=>{i.d(e,{T:()=>s,EY:()=>_,Z1:()=>l,xJ:()=>c});var s=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(s||{}),n=i("./node_modules/@pixi/core/lib/index.mjs"),r=i("./node_modules/@pixi/sprite/lib/index.mjs");const o={willReadFrequently:!0},a=class t{static get experimentalLetterSpacingSupported(){let e=t._experimentalLetterSpacingSupported;if(void 0!==e){const i=n.W0.ADAPTER.getCanvasRenderingContext2D().prototype;e=t._experimentalLetterSpacingSupported="letterSpacing"in i||"textLetterSpacing"in i}return e}constructor(t,e,i,s,n,r,o,a,l){this.text=t,this.style=e,this.width=i,this.height=s,this.lines=n,this.lineWidths=r,this.lineHeight=o,this.maxLineWidth=a,this.fontProperties=l}static measureText(e,i,s,n=t._canvas){s=s??i.wordWrap;const r=i.toFontString(),a=t.measureFont(r);0===a.fontSize&&(a.fontSize=i.fontSize,a.ascent=i.fontSize);const l=n.getContext("2d",o);l.font=r;const h=(s?t.wordWrap(e,i,n):e).split(/(?:\r\n|\r|\n)/),d=new Array(h.length);let c=0;for(let e=0;e<h.length;e++){const s=t._measureText(h[e],i.letterSpacing,l);d[e]=s,c=Math.max(c,s)}let u=c+i.strokeThickness;i.dropShadow&&(u+=i.dropShadowDistance);const p=i.lineHeight||a.fontSize+i.strokeThickness;let m=Math.max(p,a.fontSize+2*i.strokeThickness)+i.leading+(h.length-1)*(p+i.leading);return i.dropShadow&&(m+=i.dropShadowDistance),new t(e,i,u,m,h,d,p+i.leading,c,a)}static _measureText(e,i,s){let n=!1;t.experimentalLetterSpacingSupported&&(t.experimentalLetterSpacing?(s.letterSpacing=`${i}px`,s.textLetterSpacing=`${i}px`,n=!0):(s.letterSpacing="0px",s.textLetterSpacing="0px"));let r=s.measureText(e).width;return r>0&&(n?r-=i:r+=(t.graphemeSegmenter(e).length-1)*i),r}static wordWrap(e,i,s=t._canvas){const n=s.getContext("2d",o);let r=0,a="",l="";const h=Object.create(null),{letterSpacing:d,whiteSpace:c}=i,u=t.collapseSpaces(c),p=t.collapseNewlines(c);let m=!u;const f=i.wordWrapWidth+d,_=t.tokenize(e);for(let e=0;e<_.length;e++){let s=_[e];if(t.isNewline(s)){if(!p){l+=t.addLine(a),m=!u,a="",r=0;continue}s=" "}if(u){const e=t.isBreakingSpace(s),i=t.isBreakingSpace(a[a.length-1]);if(e&&i)continue}const o=t.getFromCache(s,d,h,n);if(o>f)if(""!==a&&(l+=t.addLine(a),a="",r=0),t.canBreakWords(s,i.breakWords)){const e=t.wordWrapSplit(s);for(let o=0;o<e.length;o++){let c=e[o],u=c,p=1;for(;e[o+p];){const n=e[o+p];if(t.canBreakChars(u,n,s,o,i.breakWords))break;c+=n,u=n,p++}o+=p-1;const _=t.getFromCache(c,d,h,n);_+r>f&&(l+=t.addLine(a),m=!1,a="",r=0),a+=c,r+=_}}else{a.length>0&&(l+=t.addLine(a),a="",r=0);const i=e===_.length-1;l+=t.addLine(s,!i),m=!1,a="",r=0}else o+r>f&&(m=!1,l+=t.addLine(a),a="",r=0),(a.length>0||!t.isBreakingSpace(s)||m)&&(a+=s,r+=o)}return l+=t.addLine(a,!1),l}static addLine(e,i=!0){return e=t.trimRight(e),i?`${e}\n`:e}static getFromCache(e,i,s,n){let r=s[e];return"number"!=typeof r&&(r=t._measureText(e,i,n)+i,s[e]=r),r}static collapseSpaces(t){return"normal"===t||"pre-line"===t}static collapseNewlines(t){return"normal"===t}static trimRight(e){if("string"!=typeof e)return"";for(let i=e.length-1;i>=0;i--){const s=e[i];if(!t.isBreakingSpace(s))break;e=e.slice(0,-1)}return e}static isNewline(e){return"string"==typeof e&&t._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,i){return"string"==typeof e&&t._breakingSpaces.includes(e.charCodeAt(0))}static tokenize(e){const i=[];let s="";if("string"!=typeof e)return i;for(let n=0;n<e.length;n++){const r=e[n],o=e[n+1];t.isBreakingSpace(r,o)||t.isNewline(r)?(""!==s&&(i.push(s),s=""),i.push(r)):s+=r}return""!==s&&i.push(s),i}static canBreakWords(t,e){return e}static canBreakChars(t,e,i,s,n){return!0}static wordWrapSplit(e){return t.graphemeSegmenter(e)}static measureFont(e){if(t._fonts[e])return t._fonts[e];const i={ascent:0,descent:0,fontSize:0},s=t._canvas,n=t._context;n.font=e;const r=t.METRICS_STRING+t.BASELINE_SYMBOL,o=Math.ceil(n.measureText(r).width);let a=Math.ceil(n.measureText(t.BASELINE_SYMBOL).width);const l=Math.ceil(t.HEIGHT_MULTIPLIER*a);if(a=a*t.BASELINE_MULTIPLIER|0,0===o||0===l)return t._fonts[e]=i,i;s.width=o,s.height=l,n.fillStyle="#f00",n.fillRect(0,0,o,l),n.font=e,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(r,0,a);const h=n.getImageData(0,0,o,l).data,d=h.length,c=4*o;let u=0,p=0,m=!1;for(u=0;u<a;++u){for(let t=0;t<c;t+=4)if(255!==h[p+t]){m=!0;break}if(m)break;p+=c}for(i.ascent=a-u,p=d-c,m=!1,u=l;u>a;--u){for(let t=0;t<c;t+=4)if(255!==h[p+t]){m=!0;break}if(m)break;p-=c}return i.descent=u-a,i.fontSize=i.ascent+i.descent,t._fonts[e]=i,i}static clearMetrics(e=""){e?delete t._fonts[e]:t._fonts={}}static get _canvas(){if(!t.__canvas){let e;try{const i=new OffscreenCanvas(0,0);if(i.getContext("2d",o)?.measureText)return t.__canvas=i,i;e=n.W0.ADAPTER.createCanvas()}catch{e=n.W0.ADAPTER.createCanvas()}e.width=e.height=10,t.__canvas=e}return t.__canvas}static get _context(){return t.__context||(t.__context=t._canvas.getContext("2d",o)),t.__context}};a.METRICS_STRING="|q",a.BASELINE_SYMBOL="M",a.BASELINE_MULTIPLIER=1.4,a.HEIGHT_MULTIPLIER=2,a.graphemeSegmenter=(()=>{if("function"==typeof Intl?.Segmenter){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map((t=>t.segment))}return t=>[...t]})(),a.experimentalLetterSpacing=!1,a._fonts={},a._newlines=[10,13],a._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let l=a;const h=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],d=class t{constructor(t){this.styleID=0,this.reset(),p(this,t,t)}clone(){const e={};return p(e,this,t.defaultStyle),new t(e)}reset(){p(this,t.defaultStyle,t.defaultStyle)}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(t){const e=u(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}get fill(){return this._fill}set fill(t){const e=u(t);this._fill!==e&&(this._fill=e,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(t){(function(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let i=0;i<t.length;++i)if(t[i]!==e[i])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}get leading(){return this._leading}set leading(t){this._leading!==t&&(this._leading=t,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}get padding(){return this._padding}set padding(t){this._padding!==t&&(this._padding=t,this.styleID++)}get stroke(){return this._stroke}set stroke(t){const e=u(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}get trim(){return this._trim}set trim(t){this._trim!==t&&(this._trim=t,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}toFontString(){const t="number"==typeof this.fontSize?`${this.fontSize}px`:this.fontSize;let e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(let t=e.length-1;t>=0;t--){let i=e[t].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&!h.includes(i)&&(i=`"${i}"`),e[t]=i}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${t} ${e.join(",")}`}};d.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:s.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let c=d;function u(t){const e=n.Q1.shared,i=t=>{const i=e.setValue(t);return 1===i.alpha?i.toHex():i.toRgbaString()};return Array.isArray(t)?t.map(i):i(t)}function p(t,e,i){for(const s in i)Array.isArray(e[s])?t[s]=e[s].slice():t[s]=e[s]}const m={texture:!0,children:!1,baseTexture:!0},f=class t extends r.k{constructor(e,i,s){let r=!1;s||(s=n.W0.ADAPTER.createCanvas(),r=!0),s.width=3,s.height=3;const o=n.gP.from(s);o.orig=new n.M_,o.trim=new n.M_,super(o),this._ownCanvas=r,this.canvas=s,this.context=s.getContext("2d",{willReadFrequently:!0}),this._resolution=t.defaultResolution??n.W0.RESOLUTION,this._autoResolution=t.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=i,this.localStyleID=-1}static get experimentalLetterSpacing(){return l.experimentalLetterSpacing}static set experimentalLetterSpacing(t){n.Wp.deprecation("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),l.experimentalLetterSpacing=t}updateText(t){const e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;this._font=this._style.toFontString();const i=this.context,s=l.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),r=s.width,o=s.height,a=s.lines,h=s.lineHeight,d=s.lineWidths,c=s.maxLineWidth,u=s.fontProperties;let p,m;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,r)+2*e.padding)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,o)+2*e.padding)*this._resolution),i.scale(this._resolution,this._resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.lineWidth=e.strokeThickness,i.textBaseline=e.textBaseline,i.lineJoin=e.lineJoin,i.miterLimit=e.miterLimit;const f=e.dropShadow?2:1;for(let t=0;t<f;++t){const r=e.dropShadow&&0===t,l=r?Math.ceil(Math.max(1,o)+2*e.padding):0,f=l*this._resolution;if(r){i.fillStyle="black",i.strokeStyle="black";const t=e.dropShadowColor,s=e.dropShadowBlur*this._resolution,r=e.dropShadowDistance*this._resolution;i.shadowColor=n.Q1.shared.setValue(t).setAlpha(e.dropShadowAlpha).toRgbaString(),i.shadowBlur=s,i.shadowOffsetX=Math.cos(e.dropShadowAngle)*r,i.shadowOffsetY=Math.sin(e.dropShadowAngle)*r+f}else i.fillStyle=this._generateFillStyle(e,a,s),i.strokeStyle=e.stroke,i.shadowColor="black",i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0;let _=(h-u.fontSize)/2;h-u.fontSize<0&&(_=0);for(let t=0;t<a.length;t++)p=e.strokeThickness/2,m=e.strokeThickness/2+t*h+u.ascent+_,"right"===e.align?p+=c-d[t]:"center"===e.align&&(p+=(c-d[t])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(a[t],p+e.padding,m+e.padding-l,!0),e.fill&&this.drawLetterSpacing(a[t],p+e.padding,m+e.padding-l)}this.updateTexture()}drawLetterSpacing(t,e,i,s=!1){const n=this._style.letterSpacing;let r=!1;if(l.experimentalLetterSpacingSupported&&(l.experimentalLetterSpacing?(this.context.letterSpacing=`${n}px`,this.context.textLetterSpacing=`${n}px`,r=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),0===n||r)return void(s?this.context.strokeText(t,e,i):this.context.fillText(t,e,i));let o=e;const a=l.graphemeSegmenter(t);let h=this.context.measureText(t).width,d=0;for(let t=0;t<a.length;++t){const e=a[t];s?this.context.strokeText(e,o,i):this.context.fillText(e,o,i);let r="";for(let e=t+1;e<a.length;++e)r+=a[e];d=this.context.measureText(r).width,o+=h-d+n,h=d}}updateTexture(){const t=this.canvas;if(this._style.trim){const e=n.Wp.trimCanvas(t);e.data&&(t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0))}const e=this._texture,i=this._style,s=i.trim?0:i.padding,r=e.baseTexture;e.trim.width=e._frame.width=t.width/this._resolution,e.trim.height=e._frame.height=t.height/this._resolution,e.trim.x=-s,e.trim.y=-s,e.orig.width=e._frame.width-2*s,e.orig.height=e._frame.height-2*s,this._onTextureUpdate(),r.setRealSize(t.width,t.height,this._resolution),e.updateUvs(),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(t,e){return this.updateText(!0),-1===this._textureID&&(t=!1),super.getBounds(t,e)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds.call(this,t)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(t,e,i){const n=t.fill;if(!Array.isArray(n))return n;if(1===n.length)return n[0];let r;const o=t.dropShadow?t.dropShadowDistance:0,a=t.padding||0,l=this.canvas.width/this._resolution-o-2*a,h=this.canvas.height/this._resolution-o-2*a,d=n.slice(),c=t.fillGradientStops.slice();if(!c.length){const t=d.length+1;for(let e=1;e<t;++e)c.push(e/t)}if(d.unshift(n[0]),c.unshift(0),d.push(n[n.length-1]),c.push(1),t.fillGradientType===s.LINEAR_VERTICAL){r=this.context.createLinearGradient(l/2,a,l/2,h+a);const s=i.fontProperties.fontSize+t.strokeThickness;for(let t=0;t<e.length;t++){const n=i.lineHeight*(t-1)+s,o=i.lineHeight*t;let a=o;t>0&&n>o&&(a=(o+n)/2);const l=o+s,u=i.lineHeight*(t+1);let p=l;t+1<e.length&&u<l&&(p=(l+u)/2);const m=(p-a)/h;for(let t=0;t<d.length;t++){let e=0;e="number"==typeof c[t]?c[t]:t/d.length;let i=Math.min(1,Math.max(0,a/h+e*m));i=Number(i.toFixed(5)),r.addColorStop(i,d[t])}}}else{r=this.context.createLinearGradient(a,h/2,l+a,h/2);const t=d.length+1;let e=1;for(let i=0;i<d.length;i++){let s;s="number"==typeof c[i]?c[i]:e/t,r.addColorStop(s,d[i]),e++}}return r}destroy(t){"boolean"==typeof t&&(t={children:t}),t=Object.assign({},m,t),super.destroy(t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this.updateText(!0);const e=n.Wp.sign(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this.updateText(!0);const e=n.Wp.sign(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}get style(){return this._style}set style(t){t=t||{},this._style=t instanceof c?t:new c(t),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}};f.defaultAutoResolution=!0;let _=f},"./node_modules/pixi.js/lib/filters.mjs":(t,e,i)=>{i.d(e,{u:()=>d});var s=i("./node_modules/@pixi/core/lib/index.mjs"),n=i("./node_modules/@pixi/filter-alpha/lib/index.mjs"),r=i("webpack/sharing/consume/default/@pixi/filter-blur/@pixi/filter-blur"),o=i("./node_modules/@pixi/filter-color-matrix/lib/index.mjs"),a=i("./node_modules/@pixi/filter-displacement/lib/index.mjs"),l=i("./node_modules/@pixi/filter-fxaa/lib/index.mjs"),h=i("./node_modules/@pixi/filter-noise/lib/index.mjs");const d={AlphaFilter:n.Z,BlurFilter:r.BlurFilter,BlurFilterPass:r.BlurFilterPass,ColorMatrixFilter:o.N,DisplacementFilter:a.U,FXAAFilter:l.R,NoiseFilter:h.p};Object.entries(d).forEach((([t,e])=>{Object.defineProperty(d,t,{get:()=>(s.Wp.deprecation("7.1.0",`filters.${t} has moved to ${t}`),e)})}))},"./node_modules/pixi.js/lib/index.mjs":(t,e,i)=>{i.r(e),i.d(e,{ALPHA_MODES:()=>l.Gk,AbstractMultiResource:()=>l.CI,AccessibilityManager:()=>n.k,AlphaFilter:()=>u.Z,AnimatedSprite:()=>A.D,Application:()=>r.l,ArrayResource:()=>l.aV,Assets:()=>o.sP,AssetsClass:()=>o.UR,Attribute:()=>l.nW,BLEND_MODES:()=>l.B9,BUFFER_BITS:()=>l.wn,BUFFER_TYPE:()=>l.yw,BackgroundSystem:()=>l.sN,BaseImageResource:()=>l.jH,BasePrepare:()=>S.Ls,BaseRenderTexture:()=>l.LE,BaseTexture:()=>l.t5,BatchDrawCall:()=>l.hq,BatchGeometry:()=>l.JH,BatchRenderer:()=>l.ch,BatchShaderGenerator:()=>l.LQ,BatchSystem:()=>l.A6,BatchTextureArray:()=>l.cc,BitmapFont:()=>M.Bx,BitmapFontData:()=>M.xb,BitmapText:()=>M.T7,BlobResource:()=>a.sw,Bounds:()=>h.cz,BrowserAdapter:()=>l.OF,Buffer:()=>l.hp,BufferResource:()=>l.dZ,BufferSystem:()=>l.yn,CLEAR_MODES:()=>l.fr,COLOR_MASK_BITS:()=>l.Eq,Cache:()=>o.l2,CanvasResource:()=>l.Bu,Circle:()=>l.jl,Color:()=>l.Q1,ColorMatrixFilter:()=>f.N,CompressedTextureResource:()=>a.Jn,Container:()=>h.mc,ContextSystem:()=>l.bD,CountLimiter:()=>S.It,CubeResource:()=>l.WQ,DEG_TO_RAD:()=>l.Td,DRAW_MODES:()=>l._4,DisplacementFilter:()=>_.U,DisplayObject:()=>h.q9,ENV:()=>l.Km,Ellipse:()=>l.Pp,EventBoundary:()=>d.TH,EventSystem:()=>d.C1,ExtensionType:()=>l.Ag,Extract:()=>c.M,FORMATS:()=>l.hR,FORMATS_TO_COMPONENTS:()=>a.i1,FXAAFilter:()=>g.R,FederatedDisplayObject:()=>d.o3,FederatedEvent:()=>d.Ns,FederatedMouseEvent:()=>d._J,FederatedPointerEvent:()=>d.Aj,FederatedWheelEvent:()=>d.Ot,FillStyle:()=>x.Zw,Filter:()=>l.dJ,FilterState:()=>l.OO,FilterSystem:()=>l.u9,Framebuffer:()=>l.GW,FramebufferSystem:()=>l.nj,GC_MODES:()=>l.OS,GLFramebuffer:()=>l.pq,GLProgram:()=>l._H,GLTexture:()=>l.Ru,GRAPHICS_CURVES:()=>x.lU,GenerateTextureSystem:()=>l.yI,Geometry:()=>l.V2,GeometrySystem:()=>l.kb,Graphics:()=>x.A1,GraphicsData:()=>x.ie,GraphicsGeometry:()=>x.mk,HTMLText:()=>C.x,HTMLTextStyle:()=>C.I,IGLUniformData:()=>l.n1,INSTALLED:()=>l.Ln,INTERNAL_FORMATS:()=>a.Nx,INTERNAL_FORMAT_TO_BYTES_PER_PIXEL:()=>a.FU,ImageBitmapResource:()=>l.di,ImageResource:()=>l.Gj,LINE_CAP:()=>x.Mp,LINE_JOIN:()=>x.u2,LineStyle:()=>x.Sc,LoaderParserPriority:()=>o.T9,MASK_TYPES:()=>l.vg,MIPMAP_MODES:()=>l.E8,MSAA_QUALITY:()=>l.he,MaskData:()=>l.XN,MaskSystem:()=>l.iW,Matrix:()=>l.uq,Mesh:()=>y.e,MeshBatchUvs:()=>y.iM,MeshGeometry:()=>y.u,MeshMaterial:()=>y.PX,MultisampleSystem:()=>l.DT,NineSlicePlane:()=>T.F_,NoiseFilter:()=>v.p,ObjectRenderer:()=>l.Pt,ObjectRendererSystem:()=>l.IH,ObservablePoint:()=>l.oA,PI_2:()=>l.TO,PRECISION:()=>l.Pk,ParticleContainer:()=>E.w,ParticleRenderer:()=>E.e,PlaneGeometry:()=>T.bd,PluginSystem:()=>l.$o,Point:()=>l.bR,Polygon:()=>l.tS,Prepare:()=>S.p8,Program:()=>l.BP,ProjectionSystem:()=>l.hk,Quad:()=>l.kO,QuadUv:()=>l.X1,RAD_TO_DEG:()=>l.bO,RENDERER_TYPE:()=>l.h3,Rectangle:()=>l.M_,RenderTexture:()=>l.Y7,RenderTexturePool:()=>l.O1,RenderTextureSystem:()=>l.Bw,Renderer:()=>l.A4,ResizePlugin:()=>r.U,Resource:()=>l.FW,RopeGeometry:()=>T.Bq,RoundedRectangle:()=>l.TE,Runner:()=>l.by,SAMPLER_TYPES:()=>l.XZ,SCALE_MODES:()=>l.M6,SHAPES:()=>l.HY,SVGResource:()=>l.$f,ScissorSystem:()=>l.s9,Shader:()=>l.Mt,ShaderSystem:()=>l.$P,SimpleMesh:()=>T.g,SimplePlane:()=>T.js,SimpleRope:()=>T.D8,Sprite:()=>b.k,SpriteMaskFilter:()=>l.ah,Spritesheet:()=>w.z,StartupSystem:()=>l.fE,State:()=>l.Uw,StateSystem:()=>l.D8,StencilSystem:()=>l.iH,SystemManager:()=>l.zi,TARGETS:()=>l.dW,TEXT_GRADIENT:()=>R.T,TYPES:()=>l.QE,TYPES_TO_BYTES_PER_COMPONENT:()=>a.wM,TYPES_TO_BYTES_PER_PIXEL:()=>a.VM,TemporaryDisplayObject:()=>h.dC,Text:()=>R.EY,TextFormat:()=>M.lk,TextMetrics:()=>R.Z1,TextStyle:()=>R.xJ,Texture:()=>l.gP,TextureGCSystem:()=>l.lB,TextureMatrix:()=>l.NW,TextureSystem:()=>l.vB,TextureUvs:()=>l.OE,Ticker:()=>l.Rv,TickerPlugin:()=>l.y,TilingSprite:()=>P.t,TilingSpriteRenderer:()=>P._,TimeLimiter:()=>S.oP,Transform:()=>l.dL,TransformFeedback:()=>l.wF,TransformFeedbackSystem:()=>l.vT,UPDATE_PRIORITY:()=>l.dQ,UniformGroup:()=>l.k2,VERSION:()=>l.xv,VideoResource:()=>l.A5,ViewSystem:()=>l.vr,ViewableBuffer:()=>l.u3,WRAP_MODES:()=>l.uR,XMLFormat:()=>M.Tt,XMLStringFormat:()=>M.Kk,accessibleTarget:()=>n.Q,autoDetectFormat:()=>M.AW,autoDetectRenderer:()=>l.q5,autoDetectResource:()=>l.Nc,cacheTextureArray:()=>o.P7,checkDataUrl:()=>o.sH,checkExtension:()=>o.WO,checkMaxIfStatementsInShader:()=>l.uC,convertToList:()=>o.zD,copySearchParams:()=>o.Y8,createStringVariations:()=>o.mV,createTexture:()=>o.sZ,createUBOElements:()=>l._J,curves:()=>x.LV,defaultFilterVertex:()=>l.Eo,defaultVertex:()=>l.MT,detectAvif:()=>o.Qq,detectCompressedTextures:()=>a.b0,detectDefaults:()=>o.MX,detectMp4:()=>o.pI,detectOgv:()=>o.GX,detectWebm:()=>o.dD,detectWebp:()=>o.YR,extensions:()=>l.XO,filters:()=>s.u,generateProgram:()=>l.CF,generateUniformBufferSync:()=>l.He,getFontFamilyName:()=>o.Zq,getTestContext:()=>l.WD,getUBOData:()=>l.RO,graphicsUtils:()=>x.lo,groupD8:()=>l.ER,isMobile:()=>l.Fr,isSingleItem:()=>o.aP,loadBitmapFont:()=>M.Rb,loadDDS:()=>a.os,loadImageBitmap:()=>o.Dt,loadJson:()=>o.Fj,loadKTX:()=>a.EO,loadSVG:()=>o.dE,loadTextures:()=>o.Pp,loadTxt:()=>o.fc,loadVideo:()=>o.mc,loadWebFont:()=>o.eg,parseDDS:()=>a.XD,parseKTX:()=>a.V_,resolveCompressedTextureUrl:()=>a.CJ,resolveTextureUrl:()=>o.jC,settings:()=>l.W0,spritesheetAsset:()=>w.N,uniformParsers:()=>l.$Z,unsafeEvalSupported:()=>l.ff,utils:()=>l.Wp}),i("./node_modules/@pixi/mixin-cache-as-bitmap/lib/index.mjs"),i("./node_modules/@pixi/mixin-get-child-by-name/lib/index.mjs"),i("./node_modules/@pixi/mixin-get-global-position/lib/index.mjs");var s=i("./node_modules/pixi.js/lib/filters.mjs"),n=i("./node_modules/@pixi/accessibility/lib/index.mjs"),r=i("./node_modules/@pixi/app/lib/index.mjs"),o=i("./node_modules/@pixi/assets/lib/index.mjs"),a=i("./node_modules/@pixi/compressed-textures/lib/index.mjs"),l=i("./node_modules/@pixi/core/lib/index.mjs"),h=i("./node_modules/@pixi/display/lib/index.mjs"),d=i("./node_modules/@pixi/events/lib/index.mjs"),c=i("./node_modules/@pixi/extract/lib/index.mjs"),u=i("./node_modules/@pixi/filter-alpha/lib/index.mjs"),p=i("webpack/sharing/consume/default/@pixi/filter-blur/@pixi/filter-blur"),m={};for(const t in p)["default","filters","AccessibilityManager","accessibleTarget","Application","ResizePlugin","Assets","AssetsClass","Cache","LoaderParserPriority","cacheTextureArray","checkDataUrl","checkExtension","convertToList","copySearchParams","createStringVariations","createTexture","detectAvif","detectDefaults","detectMp4","detectOgv","detectWebm","detectWebp","getFontFamilyName","isSingleItem","loadImageBitmap","loadJson","loadSVG","loadTextures","loadTxt","loadVideo","loadWebFont","resolveTextureUrl","BlobResource","CompressedTextureResource","FORMATS_TO_COMPONENTS","INTERNAL_FORMATS","INTERNAL_FORMAT_TO_BYTES_PER_PIXEL","TYPES_TO_BYTES_PER_COMPONENT","TYPES_TO_BYTES_PER_PIXEL","detectCompressedTextures","loadDDS","loadKTX","parseDDS","parseKTX","resolveCompressedTextureUrl","ALPHA_MODES","AbstractMultiResource","ArrayResource","Attribute","BLEND_MODES","BUFFER_BITS","BUFFER_TYPE","BackgroundSystem","BaseImageResource","BaseRenderTexture","BaseTexture","BatchDrawCall","BatchGeometry","BatchRenderer","BatchShaderGenerator","BatchSystem","BatchTextureArray","BrowserAdapter","Buffer","BufferResource","BufferSystem","CLEAR_MODES","COLOR_MASK_BITS","CanvasResource","Circle","Color","ContextSystem","CubeResource","DEG_TO_RAD","DRAW_MODES","ENV","Ellipse","ExtensionType","FORMATS","Filter","FilterState","FilterSystem","Framebuffer","FramebufferSystem","GC_MODES","GLFramebuffer","GLProgram","GLTexture","GenerateTextureSystem","Geometry","GeometrySystem","IGLUniformData","INSTALLED","ImageBitmapResource","ImageResource","MASK_TYPES","MIPMAP_MODES","MSAA_QUALITY","MaskData","MaskSystem","Matrix","MultisampleSystem","ObjectRenderer","ObjectRendererSystem","ObservablePoint","PI_2","PRECISION","PluginSystem","Point","Polygon","Program","ProjectionSystem","Quad","QuadUv","RAD_TO_DEG","RENDERER_TYPE","Rectangle","RenderTexture","RenderTexturePool","RenderTextureSystem","Renderer","Resource","RoundedRectangle","Runner","SAMPLER_TYPES","SCALE_MODES","SHAPES","SVGResource","ScissorSystem","Shader","ShaderSystem","SpriteMaskFilter","StartupSystem","State","StateSystem","StencilSystem","SystemManager","TARGETS","TYPES","Texture","TextureGCSystem","TextureMatrix","TextureSystem","TextureUvs","Ticker","TickerPlugin","Transform","TransformFeedback","TransformFeedbackSystem","UPDATE_PRIORITY","UniformGroup","VERSION","VideoResource","ViewSystem","ViewableBuffer","WRAP_MODES","autoDetectRenderer","autoDetectResource","checkMaxIfStatementsInShader","createUBOElements","defaultFilterVertex","defaultVertex","extensions","generateProgram","generateUniformBufferSync","getTestContext","getUBOData","groupD8","isMobile","settings","uniformParsers","unsafeEvalSupported","utils","Bounds","Container","DisplayObject","TemporaryDisplayObject","EventBoundary","EventSystem","FederatedDisplayObject","FederatedEvent","FederatedMouseEvent","FederatedPointerEvent","FederatedWheelEvent","Extract","AlphaFilter"].indexOf(t)<0&&(m[t]=()=>p[t]);i.d(e,m);var f=i("./node_modules/@pixi/filter-color-matrix/lib/index.mjs"),_=i("./node_modules/@pixi/filter-displacement/lib/index.mjs"),g=i("./node_modules/@pixi/filter-fxaa/lib/index.mjs"),v=i("./node_modules/@pixi/filter-noise/lib/index.mjs"),x=i("./node_modules/@pixi/graphics/lib/index.mjs"),y=i("./node_modules/@pixi/mesh/lib/index.mjs"),T=i("./node_modules/@pixi/mesh-extras/lib/index.mjs"),E=i("./node_modules/@pixi/particle-container/lib/index.mjs"),S=i("./node_modules/@pixi/prepare/lib/index.mjs"),b=i("./node_modules/@pixi/sprite/lib/index.mjs"),A=i("./node_modules/@pixi/sprite-animated/lib/index.mjs"),P=i("./node_modules/@pixi/sprite-tiling/lib/index.mjs"),w=i("./node_modules/@pixi/spritesheet/lib/index.mjs"),R=i("./node_modules/@pixi/text/lib/index.mjs"),M=i("./node_modules/@pixi/text-bitmap/lib/index.mjs"),C=i("./node_modules/@pixi/text-html/lib/index.mjs")}}]);