"use strict";(self.webpackChunkfederation_modules=self.webpackChunkfederation_modules||[]).push([[8063],{6103:(e,n,t)=>{var a=t(8081),i=t.n(a),r=t(3645),l=t.n(r)()(i());l.push([e.id,'.balance--Kjiqa{z-index:1000;position:fixed;top:0.5rem;left:0.5rem;color:#fff;font-family:"Jost",sans-serif;font-size:1rem;font-style:normal;font-weight:700;line-height:1.4;display:flex;flex-direction:row;align-items:center;justify-content:center}.balance--Kjiqa>i{margin-right:0.375rem}@media screen and (min-width: 0px)and (orientation: landscape){.balance--Kjiqa>i{display:none}}.balanceTitle--JnSFJ{display:none}@media screen and (min-width: 0px)and (orientation: landscape){.balanceTitle--JnSFJ{display:inline-flex;align-items:center;color:#e6e6e6;font-family:"Jost",sans-serif;font-size:0.75rem;font-style:normal;font-weight:400;line-height:1.4;margin-right:0.375rem}}.balanceSum--_ab3Z{position:relative;margin:0 0.1875rem}.balanceAnimate--wIMrh{animation-name:pulse-grow--p1xtt;animation-duration:.3s;animation-timing-function:linear;animation-iteration-count:1;animation-direction:alternate}@keyframes pulse-grow--p1xtt{0%{scale:1}50%{scale:1.1}100%{scale:1}}.balanceDifference--an2T4{position:absolute;left:0;font-size:.9em;animation-name:difference_a--e57sB;animation-duration:.6s;animation-timing-function:linear;animation-iteration-count:1;animation-direction:alternate;animation-fill-mode:forwards}@keyframes difference_a--e57sB{0%{opacity:1;transform:translate(0, 0)}100%{opacity:0;transform:translate(0, -1.25rem)}}.balanceDark--UtDXu{color:#000}.balanceDark--UtDXu .balanceTitle--JnSFJ{color:#262626}',""]),l.locals={balance:"balance--Kjiqa",balanceTitle:"balanceTitle--JnSFJ",balanceSum:"balanceSum--_ab3Z",balanceAnimate:"balanceAnimate--wIMrh","pulse-grow":"pulse-grow--p1xtt",balanceDifference:"balanceDifference--an2T4",difference_a:"difference_a--e57sB",balanceDark:"balanceDark--UtDXu"},n.Z=l},4258:(e,n,t)=>{t.d(n,{h:()=>C});var a=t(6584),i=t(5160);var r=t(3922),l=t(2734),o=t(4977),c=t(286),s=t(2464);const d=(0,o.observer)((function({children:e,style:n}){const{profileCommon:{profile:{balanceLoad:t,balance:o,currencySign:d,rounding:u}}}=(0,r.GET_STORE)(),{t:m}=(0,c.useTranslation)(),[f,h]=(0,l.useState)(!1),[g,p]=(0,l.useState)(!1),[b,y]=(0,l.useState)([]),C=(0,l.useRef)(o);return(0,l.useLayoutEffect)((()=>{if(!t)return;const e=function(e,n){const t=Math.pow(10,2);return Math.round(e*t)/t}(o-C.current),n=e>0?`+${(0,s.Z)(e,u)}`:void 0;if(p(void 0!==n),C.current=o,!n)return;const a=[...b,{value:n,key:Math.random()}].slice(-10);y(a)}),[o]),t||o||d?.length?(0,a.tZ)(a.HY,{children:(0,i.toChildArray)(e({title:m("COMMON.BALANCE"),balance:f?String(o).replace(/./g,"*"):String(o),balanceShort:(()=>{const e=String(o).length>8?(0,s.Z)(o,u):String(o);return f?e.replace(/./g,"*"):e})(),balanceHide:f,currencySign:(()=>{const e=d||"",n=d.length>1?" ":"";return f?`${e.replace(/./g,"*")}${n}`:`${e}${n}`})(),difference:g,differenceList:b})).map((e=>(0,i.cloneElement)(e,{style:n})))}):null})),u=(0,o.observer)((function({children:e,onClick:n=(()=>{}),style:t}){const{audioCommon:{setGlobalMuted:l,allMuted:o}}=(0,r.GET_STORE)(),c=()=>{l(!o),n()};return(0,a.tZ)(a.HY,{children:(0,i.toChildArray)(e({active:o})).map((e=>(0,i.cloneElement)(e,{onClick:c,style:t})))})})),m=(0,o.observer)((function({children:e,onClick:n=(()=>{}),delayOpen:t,delayClose:l,style:o}){const{uiCommon:{setModal:c,modal:s}}=(0,r.GET_STORE)(),d=()=>{c({modalName:"setting",render:!s.setting?.render,delayOpen:t,delayClose:l}),n()};return(0,a.tZ)(a.HY,{children:(0,i.toChildArray)(e).map((e=>(0,i.cloneElement)(e,{onClick:d,style:o})))})})),f=(0,o.observer)((function({children:e,onClick:n=(()=>{}),style:t,forceActive:a}){return null})),h=(0,o.observer)((function({children:e,onClick:n=(()=>{}),style:t}){const{quickModeCommon:{enabled:l,setEnabled:o}}=(0,r.GET_STORE)(),c=()=>{o(!l),n()};return(0,a.tZ)(a.HY,{children:(0,i.toChildArray)(e({active:l})).map((e=>(0,i.cloneElement)(e,{onClick:c,style:t})))})})),g=(0,o.observer)((function({children:e,onClick:n=(()=>{}),delayOpen:t,delayClose:l,style:o}){const{uiCommon:{setModal:c,modal:s},profileCommon:{profile:{storiesNew:d},settings:{options:u}}}=(0,r.GET_STORE)(),m=()=>{c({modalName:"setting",render:!s.setting?.render,delayOpen:t,delayClose:l,data:{page:"turbouniverse"},noTracking:!0}),n()};return!1===u?.displayUniverse?null:(0,a.tZ)(a.HY,{children:(0,i.toChildArray)(e({storiesNew:d})).map((e=>(0,i.cloneElement)(e,{onClick:m,style:o})))})}));var p=t(2009),b=t(8743);const y=(0,o.observer)((function({children:e,onClick:n=(()=>{}),delayOpen:t,delayClose:o,style:c}){const{uiCommon:{setModal:s,modal:d,guideShown:u,setGuideShown:m}}=(0,r.GET_STORE)(),f=(0,r.GET_GAME_CONFIG)();(0,l.useEffect)((()=>{"aggressive"!==f.guide?.guideVariant||p.Z.get("guideIsShown")?"passive"===f.guide?.guideVariant&&m(!0):(s({modalName:"setting",render:!d.setting?.render,delayOpen:t,delayClose:o,data:{page:"guide"},noTracking:!0}),m(!0))}),[]);const h=()=>{"custom"!==f.guide?.guideVariant&&(s({modalName:"setting",render:!d.setting?.render,delayOpen:t,delayClose:o,data:{page:"guide"},noTracking:!0,callbackOnClose:()=>{(0,b.Z)({action:"element_view",parameters:{object:"guide",state:!1}})}}),(0,b.Z)({action:"element_view",parameters:{object:"guide",state:!0}})),m(!u),n()};return(0,a.tZ)(a.HY,{children:(0,i.toChildArray)(e({guideShown:u})).map((e=>(0,i.cloneElement)(e,{onClick:h,style:c})))})})),C=Object.assign((function({children:e}){return(0,a.tZ)(a.HY,{children:e})}),{Back:function({children:e,onClick:n=(()=>{}),style:t}){const r=new URLSearchParams(window.location.search),l=r.get("returnUrl")||r.get("iframeReturnUrl"),o=()=>{n(),l&&function(e){try{return new URL(e),!0}catch(e){return!1}}(l)?window.location.href=l:window.history.back()};return l&&"hidden"===l?null:(0,a.tZ)(a.HY,{children:(0,i.toChildArray)(e).map((e=>(0,i.cloneElement)(e,{onClick:o,style:t})))})},Logo:function({children:e}){return(0,a.tZ)(a.HY,{children:e})},Balance:d,Nav:Object.assign((function({children:e}){return(0,a.tZ)(a.HY,{children:e})}),{Button:Object.assign((function({children:e,onClick:n=(()=>{})}){return(0,a.tZ)(a.HY,{children:(0,i.toChildArray)(e).map((e=>(0,i.cloneElement)(e,{onClick:n})))})}),{Music:u,Setting:m,FullScreen:f,QuickMode:h,Universe:g,Guide:y})})})},2464:(e,n,t)=>{t.d(n,{M:()=>l});const a=["","k","M","G","T","P","E","Z","Y","B","N","D","H","O"],i=(e,n)=>{const t=Math.pow(10,n);return Math.round(e*t)/t},r=e=>e.replace(/(\.\d*?[1-9])0+$/,"$1").replace(/\.0+$/,"").replace(/\.?$/,"");function l(e,n=2){const t=e.toFixed(n);if(t.length<=8)return t;const l=Math.abs(e);let o=Math.floor(Math.log10(l)/3);o=Math.min(o,a.length-1);const c=Math.pow(10,3*o);let s=i(e/c,n).toFixed(n);return s=r(s),`${s}${a[o]}`}n.Z=l},8063:(e,n,t)=>{t.r(n),t.d(n,{GameBalance:()=>v});var a=t(6584),i=t(7101),r=t.n(i),l=t(3922),o=t(4258),c=t(3379),s=t.n(c),d=t(7795),u=t.n(d),m=t(569),f=t.n(m),h=t(3565),g=t.n(h),p=t(9216),b=t.n(p),y=t(4589),C=t.n(y),k=t(6103),S={};S.styleTagTransform=C(),S.setAttributes=g(),S.insert=f().bind(null,"head"),S.domAPI=u(),S.insertStyleElement=b(),s()(k.Z,S);var w=k.Z&&k.Z.locals?k.Z.locals:void 0;const v=function({customChildren:e,style:n,mode:t}){if(e)return(0,a.tZ)(o.h.Balance,{style:n,children:e});const{profileCommon:{settings:{options:i}}}=(0,l.GET_STORE)();return(0,a.tZ)(o.h.Balance,{style:n,children:({title:e,balance:n,currencySign:l,balanceShort:o,balanceHide:c,difference:s,differenceList:d})=>(0,a.BX)("div",{"data-track":"balance",className:r()(w.balance,{[w.balanceDark]:"dark"===t}),children:[(0,a.BX)("div",{className:w.balanceTitle,children:[e,":"]}),(0,a.tZ)("i",{class:"fm-iconFont fm-iconFont-ios-creditcard"}),l,(0,a.BX)("span",{className:r()(w.balanceSum,{[w.balanceAnimate]:s}),children:[i?.customBr?n:o,d.map((({value:e,key:n})=>(0,a.tZ)("span",{className:w.balanceDifference,children:e},n)))]})]})})}}}]);